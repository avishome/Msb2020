{"version":3,"sources":["services/funcContext.js","components/newFriendByXls.js","tools/xlsParser.js","components/friendsList.js","components/newMsb.js","components/updateMsb.js","placeholders/icons/shield.svg","placeholders/icons/cloud-tools.svg","serviceWorker.js","components/list_description.js","components/summary_row_charge.js","components/summary_row_msbs.js","components/summary_row_debt.js","components/summary_row_user_charge.js","components/summray_table.js","components/home_component.js","components/settings.js","components/newFriend.js","services/ServiceFreinds.js","components/accountsPage.js","components/Tab.js","components/Tabs.js","components/newCharge.js","components/search.js","components/index.js","services/contextData.js","index.js"],"names":["functionsContext","React","createContext","link","close","MySelect","props","onChange","event","onselect","target","value","className","Component","HeaderLine","order","onClick","e","table","sortValues","identify","eval","getAttribute","setAttribute","Math","abs","this","name","WorpClass","state","afterTreat","dic","res","CSVToArray","String","fromCharCode","output","i","js","v","length","Object","keys","arrCustemores","filter","x","push","console","log","setState","getdata","placeholder","MyTable","data","BodyLine","elements","allElements","key","filterdData","concat","item","myData","sort","a","b","items","entries","RowTable","k","filterValues","xmlns","viewBox","d","href","type","id","address","email","accuntnum","brancenum","banknum","aria-hidden","status","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedValue","strMatchedDelimiter","replace","val","arrCustemoreBills","filterKey","xs","reduce","rv","groupBy","totalTaxes","sum","pay","payed","modif","JSON","parse","stringify","Number","toFixed","company","transaId","random","toString","substr","index","findIndex","s","tempElem","_title","o","isDone","msbId","round","map","Date","getTime","update_bill","msb","update_msb","context","selectFilter","toggelActive","active","submit","contextType","FatherBillName","FatherDate","about","edit","billData","reason","msbEntery","updateTime","temp","reasonvalue","editReason","module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ListDescription","SummaryRow","subject","price","custemors","createTime","total","reports","custemore","debtTime","date","SummrayTable","HomeComponent","src","require","alt","arrbills","msbIndex","arrdebts","Settings","defaultValue","title","disabled","NewFriend","style","backgroundImage","htmlFor","changeP","update_custemores","AccountsPage","us","user","Table","groupMsb","arrbilled","custemorId","TableCharge","isDebt","debt","paidway","overflowX","fillRule","client","Tab","label","activeTab","closeFunc","Tabs","onClickTabItem","tab","sons","child","render","nextProps","prevState","diff","includes","Index","notes","filtor","update_charge","select","remove","defaultChecked","Search","fillrerd","searchWord","myRef","createRef","pages","custemores","custemor","bill1","billed","ParseBill","relevantBill","bill","jsonGroup","idToCustemoreName","bills","ParseMsb","scrollTo","current","offsetTop","linkObj","params","opCode","clientNum","connectClientsTo1Bill","chargeNum","getReuqstPay","tempPages","page","scrollToRef","fillter","notDebtFunc","fillterFunc","fatherBill","FatherBillId","createArrDebts","parserBillsClients","parserMsbIndex","clients","marginBottom","ref","autoComplete","xmlnsXlink","version","y","enableBackground","xmlSpace","width","height","Provider","parms","cloneElement","DataContext","custemoreBills","f","help_update_bill","ReactDOM","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.6cbbd403.chunk.js","sourcesContent":["\r\nimport React from \"react\";\r\nexport const functionsContext = React.createContext({\r\n    link: () => {},\r\n    close: () => {},\r\n  });","import React from \"react\";\r\nimport {CSVToArray} from '../tools/xlsParser';\r\n//import per from '../tools/person.json';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <select onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n                <option value=\"ALL\">כולם</option>\r\n                <option value=\"active\">פעילים</option>\r\n                <option value=\"notactive\">מושהים</option>\r\n            </select>\r\n        );\r\n    }\r\n}\r\n\r\nclass HeaderLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                {this.props.name}</th>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class WorpClass extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            afterTreat: [{}]\r\n        };\r\n    }\r\n    getdata(value) {\r\n        const dic = [\r\n            \"name\", \"id\", \"address\", \"email\", \"accuntnum\", \"brancenum\", \"banknum\"\r\n        ]\r\n        const res = CSVToArray(value, String.fromCharCode(9))\r\n        let output = []\r\n        for (let i in res) {\r\n            let js = {}\r\n            for (let v in res[i]) {\r\n                js[dic[v % dic.length]] = res[i][v]\r\n            }\r\n            if (Object.keys(js).length == Object.keys(dic).length) {\r\n                if (this.props.arrCustemores.filter((x) => x[\"id\"] == js[\"id\"]).length)\r\n                    js[\"status\"] = \"duplicate\"\r\n                else\r\n                    js[\"status\"] = \"active\"\r\n                output.push(js)\r\n            }\r\n        }\r\n\r\n        console.log(output)\r\n        this.setState({ afterTreat: output });\r\n    }\r\n    render() {\r\n        return <div className=\"xl:flex flex-row justify-between shadow-md border rounded-md\">\r\n            <div\r\n                className=\"flex flex-col items-center xl:w-1/4 px-4 py-2 bg-white xl:border-l-2 border-gray-500 border-dashed rounded-l-md\">\r\n                <textarea onChange={(e) => this.getdata(e.target.value)} className=\"w-full h-48 border-2 border-black \"\r\n                    placeholder=\"נא להדביק כאן את הטבלה המועתקת מEXCEL\"></textarea>\r\n\r\n                <div className=\"flex-col\">\r\n                    <p className=\"my-2 text-xs italic font-light text-gray-500\">\r\n\r\n                    </p>\r\n                    <div className=\"text-xs mb-2 text-gray-600\">\r\n                        <span className=\"text-gray-500\">הוראות ליבוא הלקוחות</span>\r\n                        <br />\r\n                פשוט לבחור את כל השורות הרצויות, להעתיק ולהדביק בתיבת הטקסט\r\n                כל עדכון של תיבת הטקסט יעדכן את הטבלה.\r\n            </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"relative flex flex-col xl:w-3/4\">\r\n                <div className=\"mx-auto px-4 sm:px-8\">\r\n                    <MyTable data={this.state.afterTreat} />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nclass BodyLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n                <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nclass MyTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elements: this.props.data,\r\n            allElements: this.props.data\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        // Any time the current user changes,\r\n        // Reset any parts of state that are tied to that user.\r\n        // In this simple example, that's just the email.\r\n        if (props.data !== state.elements) {\r\n            return {\r\n                elements: props.data,\r\n                allElements: props.data\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    filterValues(key, order) {\r\n        if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n        console.log(key, order)\r\n        const myData = [].concat(this.state.allElements)\r\n        const filterdData = myData.filter(item => item[key] == order);\r\n        this.setState({ elements: filterdData });\r\n    }\r\n    sortValues(key, order) {\r\n        const myData = [].concat(this.state.elements)\r\n        if (order == 1)\r\n            myData.sort(function (a, b) {\r\n                if (a[key] < b[key])\r\n                    return -1;\r\n                if (a[key] > b[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        else\r\n            myData.sort(function (a, b) {\r\n                if (b[key] < a[key])\r\n                    return -1;\r\n                if (b[key] > a[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        this.setState({ elements: myData });\r\n    }\r\n    render() {\r\n        const elements = [];\r\n        const items = []\r\n        for (const [index, value] of this.state.elements.entries()) {\r\n            items.push(<RowTable target={value} />)\r\n        }\r\n        return <div className=\"py-8\">\r\n            <div className=\"my-2 flex sm:flex-row flex-col\">\r\n                <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                    <div className=\"relative\">\r\n                        <MySelect onselect={(k, v) => this.filterValues(\"status\", v)} />\r\n                        <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                            <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n                    <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n                        </path>\r\n                    </svg></span>\r\n                    <input\r\n                        className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                        placeholder=\"Search\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n                <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n                    <table className=\"leading-normal table-fixed w-full\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th\r\n                                    className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                                    בחירה</th>\r\n                                <HeaderLine identify=\"name\" name=\"שם\" table={() => this} />\r\n                                <HeaderLine identify=\"id\" name=\"מספר ח.פ.\" table={() => this} />\r\n                                <HeaderLine identify=\"address\" name=\"כתובת\" table={() => this} />\r\n                                <HeaderLine identify=\"email\" name=\"כתובת mail\" table={() => this} />\r\n                                <HeaderLine identify=\"accuntnum\" name=\"מספר חשבון\" table={() => this} />\r\n                                <HeaderLine identify=\"brancenum\" name=\"מספר סניף\" table={() => this} />\r\n                                <HeaderLine identify=\"banknum\" name=\"מספר בנק\" table={() => this} />\r\n                                <HeaderLine identify=\"status\" name=\"קטגוריה\" table={() => this} />\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {items}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n                    className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חברים מתוך {this.state.allElements.length}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"items-center w-full flex flex-col\">\r\n                <a\r\n                    className=\"inline-block my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n                    href=\"#\">יבוא לקוחות</a></div>\r\n        </div>\r\n    }\r\n}\r\nclass RowTable extends React.Component {\r\n    render() {\r\n        return <tr>\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n                <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n                        <input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n                    </label></div>\r\n                    <div className=\"ml-3\">\r\n                        <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <BodyLine value={this.props.target.name} />\r\n            <BodyLine value={this.props.target.id} />\r\n            <BodyLine value={this.props.target.address} />\r\n            <BodyLine value={this.props.target.email} />\r\n            <BodyLine value={this.props.target.accuntnum} />\r\n            <BodyLine value={this.props.target.brancenum} />\r\n            <BodyLine value={this.props.target.banknum} />\r\n\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\"><span\r\n                className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n                    className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\" aria-hidden=\"\"></span><span\r\n                        className=\"relative\">{this.props.target.status}</span></span></td>\r\n        </tr>\r\n    }\r\n}","// ref: http://stackoverflow.com/a/1293163/2343\r\n// This will parse a delimited string into an array of\r\n// arrays. The default delimiter is the comma, but this\r\n// can be overriden in the second argument.\r\nexport function CSVToArray( strData, strDelimiter ){\r\n    // Check to see if the delimiter is defined. If not,\r\n    // then default to comma.\r\n    strDelimiter = (strDelimiter || \",\");\r\n\r\n    // Create a regular expression to parse the CSV values.\r\n    var objPattern = new RegExp(\r\n        (\r\n            // Delimiters.\r\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\r\n\r\n            // Quoted fields.\r\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\r\n\r\n            // Standard fields.\r\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\r\n        ),\r\n        \"gi\"\r\n        );\r\n\r\n\r\n    // Create an array to hold our data. Give the array\r\n    // a default empty first row.\r\n    var arrData = [[]];\r\n\r\n    // Create an array to hold our individual pattern\r\n    // matching groups.\r\n    var arrMatches = null;\r\n\r\n\r\n    // Keep looping over the regular expression matches\r\n    // until we can no longer find a match.\r\n    while (arrMatches = objPattern.exec( strData )){\r\n\r\n        // Get the delimiter that was found.\r\n        var strMatchedDelimiter = arrMatches[ 1 ];\r\n\r\n        // Check to see if the given delimiter has a length\r\n        // (is not the start of string) and if it matches\r\n        // field delimiter. If id does not, then we know\r\n        // that this delimiter is a row delimiter.\r\n        if (\r\n            strMatchedDelimiter.length &&\r\n            strMatchedDelimiter !== strDelimiter\r\n            ){\r\n\r\n            // Since we have reached a new row of data,\r\n            // add an empty row to our data array.\r\n            arrData.push( [] );\r\n\r\n        }\r\n\r\n        var strMatchedValue;\r\n\r\n        // Now that we have our delimiter out of the way,\r\n        // let's check to see which kind of value we\r\n        // captured (quoted or unquoted).\r\n        if (arrMatches[ 2 ]){\r\n\r\n            // We found a quoted value. When we capture\r\n            // this value, unescape any double quotes.\r\n            strMatchedValue = arrMatches[ 2 ].replace(\r\n                new RegExp( \"\\\"\\\"\", \"g\" ),\r\n                \"\\\"\"\r\n                );\r\n\r\n        } else {\r\n\r\n            // We found a non-quoted value.\r\n            strMatchedValue = arrMatches[ 3 ];\r\n\r\n        }\r\n\r\n\r\n        // Now that we have our value string, let's add\r\n        // it to the data array.\r\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\r\n    }\r\n\r\n    // Return the parsed data.\r\n    return( arrData );\r\n}\r\n\r\n//CSVToArray(abc.value,String.fromCharCode(9))\r\n","import React from \"react\";\r\n//import per from '../tools/person.json';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <select onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n          className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n          <option value=\"ALL\">כולם</option>\r\n          <option value=\"active\">פעילים</option>\r\n          <option value=\"notactive\">מושהים</option>\r\n        </select>\r\n      );\r\n    }\r\n  }\r\n\r\n  class HeaderLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n          className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.name}</th>\r\n      );\r\n    }\r\n  }\r\n\r\n  class BodyLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n          <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n        </td>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default class MyTable extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        elements: this.props.arrCustemores,\r\n        allElements: this.props.arrCustemores\r\n      };\r\n    }\r\n    filterValues(key, order) {\r\n      if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n      console.log(key, order)\r\n      const myData = [].concat(this.state.allElements)\r\n      const filterdData = myData.filter(item => item[key] == order);\r\n      this.setState({ elements: filterdData });\r\n    }\r\n    sortValues(key, order) {\r\n      const myData = [].concat(this.state.elements)\r\n      if (order == 1)\r\n        myData.sort(function (a, b) {\r\n          if (a[key] < b[key])\r\n            return -1;\r\n          if (a[key] > b[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      else\r\n        myData.sort(function (a, b) {\r\n          if (b[key] < a[key])\r\n            return -1;\r\n          if (b[key] > a[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      this.setState({ elements: myData });\r\n    }\r\n    render() {\r\n      \r\n      const items = []\r\n      for (const [index, value] of this.state.elements.entries()) {\r\n        items.push(<RowTable key={value.id} target={value} />)\r\n      }\r\n      return <div className=\"py-8\">\r\n        <div className=\"my-2 flex sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <div className=\"relative\">\r\n              <MySelect onselect={(k, v) => this.filterValues(\"status\", v)} />\r\n              <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n            <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n              </path>\r\n            </svg></span>\r\n            <input\r\n              className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n              placeholder=\"Search\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <table className=\"leading-normal table-fixed w-full\">\r\n              <thead>\r\n                <tr>\r\n                  <th\r\n                    className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    בחירה</th>\r\n                  <HeaderLine identify=\"name\" name=\"שם\" table={() => this} />\r\n                  <HeaderLine identify=\"id\" name=\"מספר ח.פ.\" table={() => this} />\r\n                  <HeaderLine identify=\"address\" name=\"כתובת\" table={() => this} />\r\n                  <HeaderLine identify=\"email\" name=\"כתובת mail\" table={() => this} />\r\n                  <HeaderLine identify=\"accuntnum\" name=\"מספר חשבון\" table={() => this} />\r\n                  <HeaderLine identify=\"brancenum\" name=\"מספר סניף\" table={() => this} />\r\n                  <HeaderLine identify=\"banknum\" name=\"מספר בנק\" table={() => this} />\r\n                  <HeaderLine identify=\"status\" name=\"קטגוריה\" table={() => this} />\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n            className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חברים מתוך {this.state.allElements.length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n  }\r\n  class RowTable extends React.Component {\r\n    render() {\r\n      return <tr>\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n              <input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n            </label></div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <BodyLine value={this.props.target.name} />\r\n        <BodyLine value={this.props.target.id} />\r\n        <BodyLine value={this.props.target.address} />\r\n        <BodyLine value={this.props.target.email} />\r\n        <BodyLine value={this.props.target.accuntnum} />\r\n        <BodyLine value={this.props.target.brancenum} />\r\n        <BodyLine value={this.props.target.banknum} />\r\n\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\"><span\r\n          className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n            className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\" aria-hidden=\"\"></span><span\r\n              className=\"relative\">{this.props.target.status}</span></span></td>\r\n      </tr>\r\n    }\r\n  }","import React from \"react\";\r\n//import per from '../tools/Createbill.json';\r\nimport {functionsContext} from '../services/funcContext';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <select value={this.props.val} onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n          className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n          <option value=\"ALL\">ללא קבוצות</option>\r\n          <option value=\"company\">בית עסק</option>\r\n          <option value=\"FatherBillName\">חיוב</option>\r\n          <option value=\"FatherDate\">תאריך חיוב</option>\r\n        </select>\r\n      );\r\n    }\r\n  }\r\n\r\n  class HeaderLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n          className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.name}</th>\r\n      );\r\n    }\r\n  }\r\n\r\n  class BodyLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n          <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n        </td>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default class MyTable extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n        this.state = {\r\n        elements: this.props.arrCustemoreBills,\r\n        allElements: this.props.arrCustemoreBills,\r\n        filterKey: \"ALL\"\r\n      };\r\n    }\r\n    static contextType = functionsContext;\r\n    groupBy(xs, key) {\r\n      return xs.reduce(function (rv, x) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x);\r\n        return rv;\r\n      }, {});\r\n    };\r\n\r\n    filterValues(key, order) {\r\n      if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n      console.log(key, order)\r\n      const myData = [].concat(this.state.allElements)\r\n      const res = this.groupBy(myData, order)\r\n      let output = []\r\n      for (const index of Object.keys(res)) {\r\n        const value = res[index];\r\n        const totalTaxes = value.reduce(function (sum, pay) {\r\n          return sum + pay.payed;\r\n        }, 0);\r\n        let modif = JSON.parse(JSON.stringify(value[0])); //deep copy\r\n        modif.payed = Number(totalTaxes.toFixed(2));\r\n        modif.company = value.length;\r\n        modif.transaId = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\r\n        modif[\"_title\"] = true;\r\n        output.push(modif);\r\n        output = [].concat(output, value)\r\n      }\r\n      //const filterdData = myData.filter(item => item[key] == order);\r\n      this.setState({ elements: output });\r\n    }\r\n    sortValues(key, order) {\r\n      const myData = [].concat(this.state.allElements)\r\n      if (order == 1)\r\n        myData.sort(function (a, b) {\r\n          if (a[key] < b[key])\r\n            return -1;\r\n          if (a[key] > b[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      else\r\n        myData.sort(function (a, b) {\r\n          if (b[key] < a[key])\r\n            return -1;\r\n          if (b[key] > a[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      this.setState({ filterKey: \"ALL\" }) // restet filter\r\n      this.setState({ elements: myData });\r\n      this.setState({ allElements: myData }); // save sort why not?\r\n    }\r\n    active(id) {\r\n      if (id == false) { console.log(\"try toggle item without id..\"); return }\r\n      const index = this.state.elements.findIndex(s => s.transaId == id)\r\n      let tempElem = this.state.elements;\r\n      if (tempElem[index]._title) { console.log(\"try toggle title..\"); return }\r\n      if (tempElem[index][\"isDone\"] == \"active\")\r\n        tempElem[index][\"isDone\"] = \"notactive\";\r\n      else\r\n        tempElem[index][\"isDone\"] = \"active\";\r\n      this.setState({ elements: tempElem });\r\n      tempElem = tempElem.filter(o => !o._title); //remove titles\r\n      this.setState({ allElements: tempElem }); // save updates\r\n\r\n    }\r\n    submit(){\r\n      if(this.state.allElements.filter((item)=>item.isDone == \"active\").length == 0) return;\r\n      //this.props.update_bill();\r\n      const msbId = Math.round(Math.random()*10000000)\r\n      const sum = this.state.allElements.filter((item)=>item.isDone == \"active\").map((item)=>{\r\n        item = JSON.parse(JSON.stringify(item))\r\n        item[\"isDone\"] = true;\r\n        item[\"date\"] = (new Date()).getTime();\r\n        item[\"msbId\"] = msbId;\r\n        return item;\r\n      }).map((item)=>(this.props.update_bill(item))?item:{\"payed\":0}).map((item)=>item.payed).reduce((a,b)=> a+b,0);\r\n\r\n      let msb = {\r\n        \"id\": msbId,\r\n        \"total\": sum,\r\n        \"createTime\": (new Date()).getTime(),\r\n        \"updateTime\": \"\",\r\n        \"status\": \"ממתין לאישור\",\r\n        \"reason\": \"\"\r\n      }\r\n\r\n      this.props.update_msb(msb);\r\n      this.context.close(\"יצירת מסב\");\r\n    }\r\n    render() {\r\n      const items = []\r\n      for (const [index, value] of this.state.elements.entries()) {\r\n        items.push(<RowTable selectFilter={() => console.log(\"do something\", this.state.filterKey)} key={value.transaId} toggelActive={() => this.active(value.transaId)} target={value} />)\r\n      }\r\n      return <div className=\"py-8 px-1\">\r\n        <div className=\"my-2 flex justify-between w-full sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <div>\r\n              <div className=\"relative\">\r\n                <MySelect val={this.state.filterKey} onselect={(k, v) => { this.filterValues(\"status\", v); this.setState({ filterKey: v }) }} />\r\n                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                  <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                    <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n              <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n                <path\r\n                  d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n                </path>\r\n              </svg></span>\r\n              <input\r\n                className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                placeholder=\"Search\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <a\r\n              className=\"inline-block py-1 px-8 text-white bg-red-200 hover:bg-indigo-600 rounded shadow\"\r\n              href=\"#\">להשאיר חוב (25)</a>\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg\">\r\n            <table className=\"leading-normal table-fixed w-full relative \">\r\n              <thead>\r\n                <tr>\r\n                  <th\r\n                    className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    בחירה</th>\r\n                  <HeaderLine identify=\"company\" name=\"שם\" table={() => this} />\r\n                  <HeaderLine identify=\"payed\" name=\"סכום לחיוב\" table={() => this} />\r\n                  <HeaderLine identify=\"FatherBillName\" name=\"נושא חיוב\" table={() => this} />\r\n                  <HeaderLine identify=\"FatherDate\" name=\"תאריך חיוב\" table={() => this} />\r\n                  <HeaderLine identify=\"about\" name=\"פרטים\" table={() => this} />\r\n                  <HeaderLine identify=\"isDone\" name=\"לגביה כעת\" table={() => this} />\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n            className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חיובים מתוך {this.state.allElements.length}</span>\r\n          </div>\r\n          <div className=\"flex flex-col items-center\"><button\r\n          onClick={()=>this.submit()}\r\n          className=\"inline-block mx-auto my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n          href=\"#\">יצור קובץ מס\"ב</button></div>\r\n        </div>\r\n        \r\n      </div>\r\n    }\r\n  }\r\n  class RowTable extends React.Component {\r\n    render() {\r\n      return <tr className={(this.props.target._title ? 'group' : '')}>\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n              <input onChange={this.props.target._title ? () => this.props.selectFilter() : void (0)} type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n            </label></div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <BodyLine value={this.props.target.company} />\r\n        <BodyLine value={this.props.target.payed} />\r\n        <BodyLine value={this.props.target.FatherBillName} />\r\n        <BodyLine value={this.props.target.FatherDate} />\r\n        <BodyLine value={this.props.target.about} />\r\n\r\n        <td onClick={() => this.props.toggelActive()} className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\"><span\r\n          className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n            className={(this.props.target.isDone == \"active\" ? \"bg-green-200 \" : \"bg-red-200 \") + \"absolute inset-0 opacity-50 rounded-full\"} aria-hidden=\"\"></span><span\r\n              className=\"relative\">{this.props.target.isDone == \"active\" ? \"מאושר\" : \"לא לגביה\"}</span></span></td>\r\n      </tr>\r\n    }\r\n  }","import React from \"react\";\r\n//import per from '../tools/Createbill.json';\r\nimport { functionsContext } from '../services/funcContext';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <select value={this.props.val} onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n                <option value=\"ALL\">ללא קבוצות</option>\r\n                <option value=\"company\">בית עסק</option>\r\n                <option value=\"FatherBillName\">חיוב</option>\r\n                <option value=\"FatherDate\">תאריך חיוב</option>\r\n            </select>\r\n        );\r\n    }\r\n}\r\n\r\nclass HeaderLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                {this.props.name}</th>\r\n        );\r\n    }\r\n}\r\n\r\nclass BodyLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n                <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class MyTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elements: this.props.edit.billData,\r\n            allElements: this.props.edit.billData,\r\n            filterKey: \"ALL\",\r\n            reason: {}\r\n        };\r\n    }\r\n    static contextType = functionsContext;\r\n    groupBy(xs, key) {\r\n        return xs.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n    filterValues(key, order) {\r\n        if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n        console.log(key, order)\r\n        const myData = [].concat(this.state.allElements)\r\n        const res = this.groupBy(myData, order)\r\n        let output = []\r\n        for (const index of Object.keys(res)) {\r\n            const value = res[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            let modif = JSON.parse(JSON.stringify(value[0])); //deep copy\r\n            modif.payed = Number(totalTaxes.toFixed(2));\r\n            modif.company = value.length;\r\n            modif.transaId = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\r\n            modif[\"_title\"] = true;\r\n            output.push(modif);\r\n            output = [].concat(output, value)\r\n        }\r\n        //const filterdData = myData.filter(item => item[key] == order);\r\n        this.setState({ elements: output });\r\n    }\r\n    sortValues(key, order) {\r\n        const myData = [].concat(this.state.allElements)\r\n        if (order == 1)\r\n            myData.sort(function (a, b) {\r\n                if (a[key] < b[key])\r\n                    return -1;\r\n                if (a[key] > b[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        else\r\n            myData.sort(function (a, b) {\r\n                if (b[key] < a[key])\r\n                    return -1;\r\n                if (b[key] > a[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        this.setState({ filterKey: \"ALL\" }) // restet filter\r\n        this.setState({ elements: myData });\r\n        this.setState({ allElements: myData }); // save sort why not?\r\n    }\r\n    active(id) {\r\n        if (id == false) { console.log(\"try toggle item without id..\"); return }\r\n        const index = this.state.elements.findIndex(s => s.transaId == id)\r\n        let tempElem = this.state.elements;\r\n        if (tempElem[index]._title) { console.log(\"try toggle title..\"); return }\r\n        if (tempElem[index][\"isDone\"] == \"active\" || tempElem[index][\"isDone\"] === true)\r\n            tempElem[index][\"isDone\"] = \"notactive\";\r\n        else\r\n            tempElem[index][\"isDone\"] = \"active\";\r\n        this.setState({ elements: tempElem });\r\n        tempElem = tempElem.filter(o => !o._title); //remove titles\r\n        this.setState({ allElements: tempElem }); // save updates\r\n\r\n    }\r\n    submit() {\r\n        const sum = this.state.allElements.filter((item) => item.isDone == \"notactive\" || item.isDone === false).map((item) => {\r\n            item = JSON.parse(JSON.stringify(item))\r\n            //create new hov\r\n            this.props.update_bill(\r\n                {\r\n                    \"transaId\": item[\"transaId\"] + \"_0\",\r\n                    \"FatherBillId\": item[\"FatherBillId\"],\r\n                    \"msbId\": -1,\r\n                    \"custemorId\": item[\"custemorId\"],\r\n                    \"payed\": item[\"payed\"],\r\n                    \"isDone\": false,\r\n                    \"paidway\": \"msb\",\r\n                    \"reason\": this.state.reason[item[\"transaId\"]],\r\n                    \"date\": \"\",\r\n                    \"debtTime\": item[\"date\"] // only if it debt\r\n                });\r\n\r\n            item[\"date\"] = (new Date()).getTime(); // date update\r\n            item[\"payed\"] = 0; // changed\r\n            item[\"paidway\"] = item[\"transaId\"] + \"_0\"\r\n            item[\"reason\"] = this.state.reason[item[\"transaId\"]]\r\n            return item;\r\n        }).map((item) => (this.props.update_bill(item)) ? item : { \"payed\": 0 }).map((item) => item.payed).reduce((a, b) => a + b, 0);\r\n\r\n        let msb = JSON.parse(JSON.stringify(this.props.edit.msbEntery[0]));\r\n        msb.status = \"דווח בהצלחה\";\r\n        msb.updateTime = (new Date()).getTime();\r\n        this.props.update_msb(msb);\r\n        this.context.close(\"עדכון מסב\");\r\n    }\r\n    editReason(e,transaId) {\r\n        let temp = this.state.reason;\r\n        temp[transaId] = e.target.value;\r\n        this.setState({ reason: temp });\r\n    }\r\nrender() {\r\n    const items = []\r\n    for (const [index, value] of this.state.elements.entries()) {\r\n        items.push(<RowTable reasonvalue={this.state.reason} reason={(e,id) => this.editReason(e,id)} selectFilter={() => console.log(\"do something\", this.state.filterKey)} key={value.transaId} toggelActive={() => this.active(value.transaId)} target={value} />)\r\n    }\r\n    return <div className=\"py-8 px-1\">\r\n        <div className=\"my-2 flex justify-between w-full sm:flex-row flex-col\">\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                <div>\r\n                    <div className=\"relative\">\r\n                        <MySelect val={this.state.filterKey} onselect={(k, v) => { this.filterValues(\"status\", v); this.setState({ filterKey: v }) }} />\r\n                        <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                            <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n                    <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n                        </path>\r\n                    </svg></span>\r\n                    <input\r\n                        className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                        placeholder=\"Search\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                <a\r\n                    className=\"inline-block py-1 px-8 text-white bg-red-200 hover:bg-indigo-600 rounded shadow\"\r\n                    href=\"#\">להשאיר חוב (25)</a>\r\n            </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg\">\r\n                <table className=\"leading-normal table-fixed w-full relative \">\r\n                    <thead>\r\n                        <tr>\r\n                            <th\r\n                                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                                בחירה</th>\r\n                            <HeaderLine identify=\"company\" name=\"שם\" table={() => this} />\r\n                            <HeaderLine identify=\"payed\" name=\"סכום לחיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"FatherBillName\" name=\"נושא חיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"FatherDate\" name=\"תאריך חיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"about\" name=\"פרטים\" table={() => this} />\r\n                            <HeaderLine identify=\"isDone\" name=\"דיווח מצב\" table={() => this} />\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {items}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n                className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חיובים מתוך {this.state.allElements.length}</span>\r\n            </div>\r\n            <div className=\"flex flex-col items-center\"><button\r\n                onClick={() => this.submit()}\r\n                className=\"inline-block mx-auto my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n                href=\"#\">השלמת רישום במערכת</button></div>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n}\r\nclass RowTable extends React.Component {\r\n    render() {\r\n        return <tr className={(this.props.target._title ? 'group' : '')}>\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n                <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n                        <input onChange={this.props.target._title ? () => this.props.selectFilter() : void (0)} type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n                    </label></div>\r\n                    <div className=\"ml-3\">\r\n                        <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <BodyLine value={this.props.target.company} />\r\n            <BodyLine value={this.props.target.payed} />\r\n            <BodyLine value={this.props.target.FatherBillName} />\r\n            <BodyLine value={this.props.target.FatherDate} />\r\n\r\n            <td className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\">{this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"מאושר\" : <input onChange={(e) => { this.props.reason(e,this.props.target.transaId) }} className=\"bg-red-200\" value={(this.props.target.transaId in this.props.reasonvalue) ? this.props.reasonvalue[this.props.target.transaId] : \"סיבת החזרה\"} />}</td>\r\n\r\n            <td onClick={() => this.props.toggelActive()} className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\"><span\r\n                className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n                    className={(this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"bg-green-200 \" : \"bg-red-200 \") + \"absolute inset-0 opacity-50 rounded-full\"} aria-hidden=\"\"></span><span\r\n                        className=\"relative\">{this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"מאושר\" : \"גביה נכשלה\"}</span></span></td>\r\n        </tr>\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/shield.0f97fbfa.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud-tools.3a91a7e6.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport {functionsContext} from '../services/funcContext';\nclass ListDescription extends React.Component {\n  static contextType = functionsContext;\n  render() {\n    return (\n      <div className=\"listBar z-50 tooltip-text flex justify-center p-4 px-3 py-10\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-white shadow-md rounded-lg px-3 py-2 mb-4\">\n            <div className=\"block text-gray-700 text-lg font-semibold py-2 px-2\">\n              רשימת לקוחות\n            </div>\n            <div className=\"flex items-center bg-gray-200 rounded-md\">\n              <div className=\"pl-2\">\n                <svg\n                  className=\"fill-current text-gray-500 w-6 h-6\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    className=\"heroicon-ui\"\n                    d=\"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\"\n                  ></path>\n                </svg>\n              </div>\n              <input\n                className=\"w-full rounded-md bg-gray-200 text-gray-700 leading-tight focus:outline-none py-2 px-2\"\n                type=\"text\"\n                placeholder=\"חיפוש לקוח\"\n              />\n            </div>\n            <div className=\"py-3 text-sm\">\n            {\n                this.props.data.map((item)=> <button onClick={()=>this.context.link({\"page\":\"דפי חשבון\",\"params\":item[0][0]})} key={item[0][0]} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\n                <span className={\"bg-\"+(((item[0][2])==\"active\")?\"green\":\"red\")+\"-400 h-2 w-2 m-2 rounded-full\"} />\n              <div className=\"flex-grow font-medium px-2\">{item[0][1]}</div>\n                <div className=\"text-sm font-normal text-gray-500 tracking-wide\">\n                {item[1]}\n                </div>\n              </button>)\n              }\n              \n            </div>\n            <div className=\"block bg-gray-200 text-sm text-left py-2 px-3 -mx-3 -mb-2 rounded-b-lg\">\n              <button className=\"hover:text-gray-600 text-gray-500 font-bold py-2 px-4\">\n                עריכה\n              </button>\n              <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n                סגירה\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ListDescription;\n","import React from \"react\";\nimport ListDescription from \"./list_description\";\n\nclass SummaryRow extends React.Component {\n  render() {\n    return (\n      <tr>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.subject}\n        </td>\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.price} ש\"ח</td>\n        <td className=\"cursor-pointer tooltip overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><span className=\"noselect\">{this.props.data.custemors.length} לקוחות</span>\n          <ListDescription data={this.props.data.custemors}></ListDescription>\n        </td>\n        <td onClick = {()=>this.props.link({\"page\":\"חיוב חדש\",\"params\":{\"opCode\":\"chargeNum\",\"chargeNum\":this.props.data.id}})} className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>עריכה</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default SummaryRow;\n","import React from \"react\";\nimport ListDescription from \"./list_description\";\n\nclass SummaryRow extends React.Component {\n  render() {\n    return (\n      <tr>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.createTime}\n        </td>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.total} ש\"ח\n        </td>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.status}\n        </td>\n        <td className=\"cursor-pointer tooltip overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><span className=\"noselect\">{this.props.data.reports.length} קבלות</span>\n          <ListDescription data={this.props.data.reports}></ListDescription>\n        </td>\n        <td className=\"overflow-hidden cursor-pointer hover:bg-gray-200 w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button onClick={() => this.props.link(\"חיוב חדש\")}>קובץ מס\"ב</button></td>\n        <td onClick={() => this.props.link({\"page\":\"עדכון מסב\",\"params\":this.props.data.id})} className=\"overflow-hidden cursor-pointer hover:bg-gray-200 w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button >עדכון</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default SummaryRow;\n","import React from \"react\";\r\nimport ListDescription from \"./list_description\";\r\n\r\nclass SummaryRow extends React.Component {\r\n  render() {\r\n    return (\r\n      <tr>\r\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.custemore}\r\n        </td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.payed} ש\"ח</td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.debtTime}</td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.reason}</td>\r\n        <td onClick = {()=>this.props.link({\"page\":\"חיוב חדש\",\"params\":this.props.data.id})} className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>עריכה</button></td>\r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SummaryRow;\r\n","import React from \"react\";\r\nimport ListDescription from \"./list_description\";\r\n\r\nclass SummaryRow extends React.Component {\r\n  render() {\r\n    return (\r\n      (!this.props.data.total) ? <tr>\r\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.subject}\r\n        </td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.payed} ש\"ח</td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.date} </td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.status} </td>\r\n\r\n        <td className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>עריכה</button></td>\r\n      </tr> :\r\n        <tr>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-blue-300 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n    {this.props.data.date}</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-blue-300 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.payed} ש\"ח</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-blue-300 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.status}</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-blue-300 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n            קבלה</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-blue-300 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n            עריכה</th>\r\n        </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SummaryRow;\r\n","import React from \"react\";\nimport SummaryRowCharge from \"./summary_row_charge\";\nimport SummaryRowMsbs from \"./summary_row_msbs\";\nimport SummaryRowDebts from \"./summary_row_debt\";\nimport SummaryRowChargeUser from \"./summary_row_user_charge\";\nclass SummrayTable extends React.Component {\n  render() {\n    return (\n      <table className=\"leading-normal table-fixed w-full\">\n        <thead>\n          {\n            (this.props.type == 'charges') ? this.props.arrData.map((x) => <SummaryRowCharge key={x.id} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'msbs') ? this.props.arrData.map((x) => <SummaryRowMsbs key={x.id} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'debts') ? this.props.arrData.map((x) => <SummaryRowDebts key={x.transaId} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'charges_user') ? this.props.arrData.map((x) => <SummaryRowChargeUser key={x.transaId} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n\n        </thead>\n      </table>\n    );\n  }\n}\n\nexport default SummrayTable;\n","import React from \"react\";\nimport SummrayTable from \"./summray_table\";\nimport { functionsContext } from '../services/funcContext';\nclass HomeComponent extends React.Component {\n  static contextType = functionsContext;\n  render() {\n    return (\n      <div className=\"container mx-auto px-4 py-1\">\n        <section className=\"p-4\">\n          <div className=\"flex flex-wrap text-center\">\n            <button\n              onClick={() => this.context.link(\"חיוב חדש\")}\n              className=\"md:w-1/2 py-4 md:px-10 mb-4 md:mb-0 md:border-l hover:bg-blue-100 cursor-pointer\"\n            >\n              <img\n                className=\"mx-auto mb-3\"\n                src={require(\"../placeholders/icons/shield.svg\")}\n                alt=\"חיוב חדש\"\n              />\n              <h3 className=\"text-2xl mb-3 font-heading\">יצירת חיוב חדש</h3>\n              <p className=\"text-gray-500 leading-relaxed\">\n                ניתן לייצר רשימה של פריטים ומחירים העתידים להגבות מהחברים בחודש\n                הקרוב\n              </p>\n            </button>\n            <button\n              onClick={() => this.context.link(\"חבר חדש\")}\n              className=\"md:w-1/2 py-4 md:px-10 mb-4 md:mb-0 hover:bg-blue-100 cursor-pointer\"\n            >\n              <img\n                className=\"mx-auto mb-3\"\n                src={require(\"../placeholders/icons/cloud-tools.svg\")}\n                alt=\"לקוח חדש\"\n              />\n              <h3 className=\"text-2xl mb-3 font-heading\">הוספת חבר חדש</h3>\n              <p className=\"text-gray-500 leading-relaxed\">\n                ניתן להכניס שם של מצטרף חדש לאגודה ולציין את פרטי הוראת הקבע שלו\n                לגביה\n              </p>\n            </button>\n          </div>\n        </section>\n        <section className=\"py-8 px-4\">\n          <div className=\"flex flex-wrap -mx-4\">\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between py-3 px-4 border-b\">\n                  <h3 className=\"text-lg font-heading\">ממתינים לפירעון</h3>\n                  <button\n                    onClick={() => this.context.link(\"יצירת מסב\")}\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    שליחה למס\"ב\n                  </button>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.arrbills} link={(x) => this.context.link(x)} type=\"charges\"></SummrayTable>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between py-3 px-4 border-b\">\n                  <h3 className=\"text-lg font-heading\">קבצי מס\"ב אחרונים</h3>\n                  <span\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    עוד\n                  </span>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.msbIndex} link={(x) => this.context.link(x)} type=\"msbs\"></SummrayTable>\n\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between px-4 py-3 border-b\">\n                  <h3 className=\"text-lg font-heading\">חובות</h3>\n                  <span\n\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-red-500 rounded-full hover:bg-red-600 cursor-pointer\"\n                  >\n                    עדכון\n                  </span>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.arrdebts} link={(x) => this.context.link(x)} type=\"debts\"></SummrayTable>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between px-4 py-3 border-b\">\n                  <h3 className=\"text-lg font-heading\">דפי חשבון</h3>\n                  <button\n                    onClick={() => this.context.link(\"רשימת לקוחות\")}\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    רשימת לקוחות\n                  </button>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <h3 className=\"text-3xl mb-3 font-heading font-semibold\">\n                    30\n                  </h3>\n                  <span>סה\"כ חברים</span>\n                  <span className=\"text-green-500\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default HomeComponent;\n","\r\nimport React from \"react\";\r\nexport default class Settings extends React.Component {\r\n    render() {\r\n        return (        \r\n        \r\n        <div className=\"container mx-auto px-4 py-10\">\r\n            <section className=\"border-b-2 pb-8\">\r\n                <div className=\"flex flex-wrap -mx-4\">\r\n                    <div className=\"lg:w-2/5 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-3xl\">הגדרות</h2>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section className=\"py-8 px-4 \">\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8\">\r\n                    <div className=\"w-full flex flex-wrap\">\r\n                        <div className=\"w-full md:w-1/2 px-2 mb-6 \">\r\n                            <h2 className=\"text-2xl\">מספר מוסד</h2>\r\n                            <h2 className=\"text-1xl text-gray-500\">המספר המזהה של המוסד מקבל התשלומים במערכת מס\"ב</h2>\r\n                        </div>\r\n                        <div className=\"w-full md:w-1/2 px-2 text-center \">\r\n                            <input className=\"rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b sm:pl-8 sm:pr-8 py-4 w-3/5 bg-white sm:text-1xl placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"מספר מוסד בן 5 ספרות\" defaultValue={12345}  />\r\n                            <h2 className=\"sm:inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה\r\n          </h2>\r\n                            <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                                שמירה</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-full flex flex-wrap\">\r\n                        <div className=\"w-full md:w-1/2 px-2 mb-6 mt-4\">\r\n                            <h2 className=\"text-2xl\">שם מוסד</h2>\r\n                            <h2 className=\"text-1xl text-gray-500\">שם המוסד שיופיע בקבלות</h2>\r\n                        </div>\r\n                        <div className=\"w-full md:w-1/2 px-2 text-center  mt-4\">\r\n                            <input className=\"rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b sm:pl-8 sm:pr-8 py-4 w-3/5 bg-white sm:text-1xl placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"מספר מוסד בן 5 ספרות\" disabled />\r\n                            <h2 className=\"sm:inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה\r\n          </h2>\r\n                            <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                                שמירה</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8 mt-8\">\r\n                    <div className=\"w-full md:w-1/2 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-2xl\">גיבוי</h2>\r\n                        <h2 className=\"text-1xl text-gray-500\">שמירת כל הנתונים בקובץ הניתן לשחזור בעת הצורך</h2>\r\n                    </div>\r\n                    <div className=\"w-full md:w-1/2 px-2 text-center\">\r\n                        <a className=\"inline-block py-4 px-8 mb-4 sm:mb-0 mr-6 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\" href=\"#\">שמירת גיבוי</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8 mt-8\">\r\n                    <div className=\"w-full md:w-1/2 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-2xl\">תיקיית קבצים ומידע</h2>\r\n                        <h2 className=\"text-1xl text-gray-500\">היכן התוכנה שומרת את כל המידע הכולל פרטי לקוחות, דפי חשבון,\r\n          הסטוריית חיובים</h2>\r\n                    </div>\r\n                    <div className=\"w-full md:w-1/2 px-2 text-center\">\r\n                        <button className=\"inline-block py-4 px-8 mb-4 sm:mb-0 mr-6 text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\" disabled>C:\\Users\\oriel\\Desktop\\electron-quick-start</button>\r\n                        <h2 className=\"inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה</h2>\r\n                        <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                            שמירה</h2>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>);\r\n    }\r\n}","import React from \"react\";\r\nimport ServiceClients from \"../services/ServiceFreinds\"\r\nimport {functionsContext} from '../services/funcContext';\r\nexport default class NewFriend extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      \"id\": \"\",\r\n      \"name\": \"\",\r\n      \"address\": \"\",\r\n      \"isActive\": true,\r\n      \"phone\": \"\",\r\n      \"email\": \"\",\r\n      \"accuntnum\": \"\",\r\n      \"brancenum\": \"\",\r\n      \"banknum\": \"\",\r\n      \"status\": \"active\"\r\n    }\r\n    let id = this.props.edit;\r\n    if(id && 'length' in id && id.length)\r\n      this.state = id[0];\r\n    console.log(props.edit)\r\n  }\r\n  static contextType = functionsContext;\r\n  changeP(key, e) {\r\n    this.setState({ [key]: e.target.value });\r\n  }\r\n  render() {\r\n    return <div>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"container mx-auto\">\r\n          <div className=\"flex justify-center px-6\">\r\n            {/* Row*/}\r\n            <div className=\"w-full xl:w-3/4 lg:w-11/12 flex\">\r\n              {/* Col*/}\r\n              <div className=\"w-full h-auto bg-gray-400 hidden lg:block lg:w-5/12 bg-cover rounded-l-lg\" style={{ backgroundImage: 'url(\"https://source.unsplash.com/Mv9hjnEUHR4/600x800\")' }} />\r\n              {/* Col*/}\r\n              <div className=\"w-full lg:w-7/12 bg-white p-5 rounded-lg lg:rounded-l-none\">\r\n                {(this.props.edit && this.props.edit.length>0)?<h3 className=\"pt-4 text-2xl text-center\">עריכת לקוח קיים</h3>:<h3 className=\"pt-4 text-2xl text-center\">יצירת לקוח חדש</h3>}\r\n                  <div className=\"mb-4 md:flex md:justify-between\">\r\n                    <div className=\"mb-4 md:mr-2 md:mb-0\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"firstName\">שם העסק</label>\r\n                      <input value={this.state.name} onChange={(e)=>this.changeP(\"name\",e)} className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"firstName\" type=\"text\" placeholder=\"First Name\" />\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"lastName\">מספר ח.פ.</label>\r\n                <input disabled={(this.props.edit && this.props.edit.length>0)?\"disabled\" : \"\"} value={this.state.id} onChange={(e)=>this.changeP(\"id\",e)} className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"lastName\" type=\"text\" placeholder=\"Last Name\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"email\">Email</label>\r\n                    <input value={this.state.email} onChange={(e)=>this.changeP(\"email\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"email\r\n                    \" type=\"email\" placeholder=\"Email\" />\r\n                  </div>\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"email\">כתובת</label>\r\n                    <input  value={this.state.address} onChange={(e)=>this.changeP(\"address\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"email1\" type=\"email2\" placeholder=\"Email\" />\r\n                  </div>\r\n                  <div className=\"mb-4 md:flex md:justify-between\">\r\n                    <div className=\"mb-4 md:mr-2 md:mb-0\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"password\">מספר חשבון</label>\r\n                      <input value={this.state.accuntnum} onChange={(e)=>this.changeP(\"accuntnum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border border-red-500 rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"password\" type=\"text\" />\r\n                      <p className=\"text-xs italic text-red-500\">פרטי חשבון</p>\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"c_password\">מספר סניף</label>\r\n                      <input value={this.state.brancenum} onChange={(e)=>this.changeP(\"brancenum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"c_password\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"c_password\">מספר בנק</label>\r\n                      <input value={this.state.banknum} onChange={(e)=>this.changeP(\"banknum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"c_password\" type=\"text\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-6 text-center\">\r\n                    <button onClick={() => this.props.update_custemores(this.state)?this.context.close(\"חבר חדש\"):console.log(\"בעיה\")} className=\"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 focus:outline-none focus:shadow-outline\" type=\"button\">יצירת לקוח</button>\r\n                  </div>\r\n                  <hr className=\"mb-6 border-t\" />\r\n                  <div className=\"text-center\"><button className=\"inline-block text-sm text-blue-500 align-baseline hover:text-blue-800\" onClick={() => this.context.link(\"חברים מאקסל\")}>אפשר להעביר מספר לקוחות דרך excel</button></div>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}","import React from \"react\";\r\n\r\nexport default class Friends extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.edit !== prevProps.edit) {\r\n            console.log(\"dddd\")\r\n            this.props.clients[0].name = \"אבגדהו\";\r\n        }\r\n    }\r\n    render() {\r\n        return null\r\n    }\r\n\r\n}","import React from \"react\";\r\nimport SummrayTable from \"./summray_table\";\r\nimport { functionsContext } from '../services/funcContext';\r\nclass AccountsPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let us = (props.edit > 0)?props.edit:12345\r\n    this.state = {\r\n      user: us\r\n    };\r\n  }\r\n\r\n  static contextType = functionsContext;\r\n  groupBy(xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x);\r\n      return rv;\r\n    }, {});\r\n  };\r\n  render() {\r\n    let Table = []\r\n\r\n    const groupMsb = this.groupBy(this.props.arrbilled.filter((item) => item.custemorId == this.state.user && item.msbId > 0), \"msbId\")\r\n    for (const index of Object.keys(groupMsb)) {\r\n      const value = groupMsb[index];\r\n      let msb = this.props.msbIndex.filter((x) => x.id == index)\r\n      msb = (msb.length) ? msb[0] : console.log(index, this.props.msbIndex)\r\n      if (!msb) continue\r\n      const totalTaxes = value.reduce(function (sum, pay) {\r\n        return sum + pay.payed;\r\n      }, 0);\r\n\r\n      Table.push({\r\n        \"transaId\": msb.id,\r\n        \"date\": msb.updateTime,\r\n        \"payed\": totalTaxes,\r\n        \"status\": msb.status,\r\n        \"total\": true\r\n      })\r\n    }\r\n\r\n    const TableCharge = this.props.arrbilled.filter((item) => item.custemorId == this.state.user).map((item) => {\r\n      //let isDebt = !item.debtTime && item.payed == 0;\r\n      let isDebt = item.isDone == \"notactive\" && item.payed == 0;\r\n      let debt = (isDebt && this.props.arrbilled.filter((debt) => item.paidway == debt.transaId).length) ? this.props.arrbilled.filter((debt) => item.paidway == debt.transaId)[0].payed : 0;\r\n      let status = (isDebt) ? \"גביה נכשלה\" : (item.msbId > 0) ? this.props.msbIndex.filter((msb) => msb.id == item.msbId)[0].status : \"ממתין לגביה\";\r\n      return {\r\n        \"transaId\": item.transaId,\r\n        \"subject\": (item.FatherBillName)?item.FatherBillName:\"גביית חוב\",\r\n        \"date\": (item.FatherDate)?item.FatherDate:item.debtTime,\r\n        \"status\": status,\r\n        \"payed\": (isDebt) ? debt : item.payed,\r\n        \"total\": false\r\n      }\r\n    })\r\n\r\n    Table = Table.concat(TableCharge)\r\n    /*    {\"subject\",\"date\",\"status\",\"payed\"}\r\n    {\"date\",\"status\",\"payed\"}\r\n    */\r\n    return (<div className=\"font-sans antialiased h-screen flex container mx-auto px-4 \">\r\n\r\n      <div style={{ overflowX: 'hidden' }} className=\"h-screen overflow-y-scroll bg-blue-400 text-purple-lighter flex-none w-80 pb-6 hidden md:block\">\r\n        <div className=\"text-white mb-2 mt-3 px-4 flex justify-between\">\r\n          <div className=\"flex-auto\">\r\n            <h1 className=\"font-semibold text-xl leading-tight mb-1 truncate\">דפי חשבון</h1>\r\n            <a href=\"index.html\">חזרה</a>\r\n            <div className=\"flex items-center mb-6 mt-6\">\r\n              <div className=\"ml-auto hidden md:block\">\r\n                <div className=\"relative\">\r\n                  <input type=\"search\" placeholder=\"Search\" className=\"appearance-none border text-black border-grey rounded-lg pl-8 pr-4 py-2\" />\r\n                  <div className=\"absolute left-0 top-0 pl-4 pt-3\">\r\n                    <svg className=\"text-grey h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                      <path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <svg className=\"h-6 w-6 fill-current text-white opacity-25\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M14 8a4 4 0 1 0-8 0v7h8V8zM8.027 2.332A6.003 6.003 0 0 0 4 8v6l-3 2v1h18v-1l-3-2V8a6.003 6.003 0 0 0-4.027-5.668 2 2 0 1 0-3.945 0zM12 18a2 2 0 1 1-4 0h4z\" fillRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-8\">\r\n          <div className=\"px-4 mb-2 text-white flex justify-between items-center\">\r\n            <div>נצפו לאחרונה</div>\r\n            <div>\r\n              <svg className=\"fill-current h-4 w-4 opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center mb-3 px-4\">\r\n            <span className=\"bg-green rounded-full block w-2 h-2 mr-2\" />\r\n            <span className=\"text-white\">Adam Wathan <span className=\"text-grey text-sm\">(you)</span></span>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-8\">\r\n          <div className=\"px-4 mb-2 text-white flex justify-between items-center\">\r\n            <div>שאר הלקוחות</div>\r\n            <div className=\"cursor-pointer\">\r\n              <svg className=\"fill-current h-4 w-4 opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          {this.props.arrCustemores.map((client) => {\r\n            return (\r\n              <button onClick={()=>this.setState({user:client.id})} key={client.id} className=\"flex items-center mb-3 px-4\">\r\n                <span className=\"bg-green rounded-full block w-2 h-2 mr-2\" />\r\n                <span className=\"text-white \">{client.name}</span>\r\n              </button>)\r\n          })}\r\n        </div>\r\n        <div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 flex flex-col bg-white overflow-hidden\">\r\n\r\n        <div className=\"border-b flex bg-blue-200 px-6 py-2 items-center flex-none\">\r\n          <div className=\"flex flex-col w-2/6 justify-between\">\r\n            <h3 className=\"text-grey-darkest mb-1 font-extrabold\">\r\n        {this.props.arrCustemores.filter((x)=>x.id==this.state.user)[0].name}</h3>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              04-55733461 {this.props.arrCustemores.filter((x)=>x.id==this.state.user)[0].email}\r\n                </div>\r\n          </div>\r\n          <button onClick={() => this.context.link({ \"page\": \"חיוב חדש\", \"params\": { \"opCode\": \"clientNum\", \"clientNum\": Number(this.state.user) } })} className=\"flex flex-col w-1/8 justify-between mr-2\">\r\n            <a className=\"text-grey-darkest mb-1\">\r\n              חיוב חדש</a>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              הוספת חיוב חדש\r\n                </div>\r\n          </button>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <a href=\"newcharge.html?user=משה כהן\" className=\"text-grey-darkest mb-1\">\r\n              דיווח תשלום</a>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              על תשלום שהתבצע לא בה\"ק\r\n                </div>\r\n          </div>\r\n          <button onClick={() => this.context.link({ \"page\": \"חבר חדש\", \"params\": this.state.user })} className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <a className=\"text-grey-darkest mb-1\">\r\n              עריכת פרטי חבר</a>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              שינוי שם, פרטי חשבון וכו\r\n                </div>\r\n          </button>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <a href=\"newcharge.html?user=משה כהן\" className=\"text-grey-darkest mb-1\">\r\n              הדפסה</a>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              או שליחה במייל\r\n                </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"border-b flex bg-gray-200 px-6 py-2 items-center flex-none\">\r\n          <div className=\"flex w-full\">\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              ממתין לגביה:\r\n              {\" \" + this.props.arrbilled.filter((x) => x.isDone === false && x.custemorId == this.state.user).reduce(function (sum, pay) {\r\n              return sum + pay.payed;\r\n            }, 0)} ש\"ח\r\n            </div>\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              סה\"כ חיובים:\r\n              {\" \" + this.props.arrbilled.filter((item) => item.custemorId == this.state.user\r\n            ).reduce(function (sum, pay) {\r\n              return sum + pay.payed;\r\n            }, 0)}\r\n              ש\"ח\r\n                </div>\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              סה\"כ תשלומים:\r\n              {\" \" + this.props.arrbilled.filter((item) =>\r\n              item.custemorId == this.state.user &&\r\n              item.isDone === true && item.msbId > 0 &&\r\n              this.props.msbIndex.filter((msb) => msb.id == item.msbId)[0].updateTime != \"\"\r\n            ).reduce(function (sum, pay) {\r\n              return sum + pay.payed;\r\n            }, 0)}\r\n               ש\"ח\r\n                </div>\r\n          </div>\r\n        </div>\r\n        {/* Chat messages */}\r\n        <div className=\"px-6 py-4 flex-1 overflow-y-scroll\">\r\n          {/*this.props.arrbilled.map((billed) => JSON.stringify(billed))*/}\r\n          {/*this.props.msbIndex.filter((msb)=>msb.id==item.msbId)[0]*/}\r\n\r\n          <SummrayTable arrData={Table} link={(x) => this.context.link(x)} type=\"charges_user\"></SummrayTable>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default AccountsPage;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nclass Tab extends React.Component {\r\n    static propTypes = {\r\n        activeTab: PropTypes.string.isRequired,\r\n        label: PropTypes.string.isRequired,\r\n        onClick: PropTypes.func.isRequired,\r\n    };\r\n\r\n    onClick = () => {\r\n        const { label, onClick } = this.props;\r\n        onClick(label);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            onClick,\r\n            props: {\r\n                activeTab,\r\n                label\r\n            },\r\n        } = this;\r\n\r\n        let className = 'bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-800 font-semibold';\r\n        if (activeTab === label) {\r\n            className = 'bg-white inline-block border-t rounded-tr py-2 px-4 md:px-16 lg:px-32 text-blue-700 font-semibold';\r\n        }\r\n\r\n        return (\r\n            <><button\r\n                className={className}\r\n                onClick={onClick}\r\n            >\r\n                {label}\r\n            </button>\r\n            <button className={\"bg-gradient-to-l from-white rounded-tl px-2 border-t \" + ((label == \"ראשי\")?\" \":\"hover:bg-red-200\")} onClick={()=>{this.props.closeFunc(this.props.label)}}></button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Tab;","import React from \"react\";\r\nimport Tab from './Tab';\r\n\r\nimport {functionsContext} from '../services/funcContext';\r\n\r\nclass Tabs extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeTab: \"ראשי\",\r\n            sons: {}\r\n        };\r\n    }\r\n    static contextType = functionsContext;\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (Object.keys(nextProps.sons).length !== Object.keys(prevState.sons).length) {\r\n            if (Object.keys(nextProps.sons).length > Object.keys(prevState.sons).length) {\r\n                const diff = Object.keys(nextProps.sons).filter(x => !Object.keys(prevState.sons).includes(x));\r\n                return {\r\n                   sons:JSON.parse(JSON.stringify(nextProps.sons)),\r\n                    activeTab: diff[0]\r\n                };\r\n            }\r\n            else{\r\n                const diff = Object.keys(nextProps.sons).filter(x => Object.keys(prevState.sons).includes(x));\r\n                return {\r\n                    sons:JSON.parse(JSON.stringify(nextProps.sons)),\r\n                    activeTab: diff[diff.length-1]\r\n                };\r\n            }\r\n        }\r\n        return {sons:JSON.parse(JSON.stringify(nextProps.sons))};\r\n    }\r\n\r\n    onClickTabItem = (tab) => {\r\n        this.setState({ activeTab: tab });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            onClickTabItem,\r\n            state: {\r\n                activeTab,\r\n            }\r\n        } = this;\r\n\r\n        return (\r\n            \r\n            <div className=\"tabs\">\r\n                <div>\r\n                    <ol className=\"flex overflow-x-auto\">\r\n                        {Object.keys(this.props.sons).map((child) => {\r\n                            const label = child;\r\n                            return (\r\n                                <Tab\r\n                                    closeFunc = {(x)=>this.context.close(x)}\r\n                                    activeTab={activeTab}\r\n                                    key={label}\r\n                                    label={label}\r\n                                    onClick={onClickTabItem}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </ol>\r\n                </div>\r\n                <div className=\"tab-content bg-white opacity-80\">\r\n                    {this.props.render(this.state)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Tabs;","import React from \"react\";\r\nimport {functionsContext} from '../services/funcContext';\r\nexport default class Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: Math.round(Math.random()*100000), //must create bettter select\r\n      subject: \"\",\r\n      date: \"\",\r\n      price: \"\",\r\n      notes: \"\",\r\n\r\n      custemors: [],\r\n      filtor: \"\"\r\n    };\r\n    let id = this.props.edit;\r\n    if(typeof(id)== \"object\" && id && !('length' in id) && id.id){\r\n      this.state[\"id\"] = id.id;\r\n      this.state[\"notes\"] = id.notes;\r\n      this.state[\"date\"] = id.date;\r\n      this.state[\"price\"] = id.price;\r\n      this.state[\"subject\"] = id.subject;\r\n      this.state[\"custemors\"] = JSON.parse(JSON.stringify( id.custemors));\r\n    }\r\n    console.log(props)\r\n    if(typeof(id)==\"number\"){\r\n      this.state[\"custemors\"] = [Number(id)];\r\n    }\r\n  }\r\n  static contextType = functionsContext;\r\n  submit() {\r\n    const s = this.state;\r\n    this.props.update_charge({\r\n      id: s.id,\r\n      subject: s.subject,\r\n      date: s.date,\r\n      price: Number(s.price),\r\n      notes: s.notes\r\n    });\r\n    s.custemors.map((id)=>this.props.update_bill(\r\n      {\"transaId\": s.id+\"-\"+id+\"*1\", // optional for take many piceses\r\n      \"FatherBillId\": s.id,\r\n      \"msbId\": -1,\r\n      \"custemorId\": id,\r\n      \"payed\": Number(s.price), // must not effect on this feild - only on msb creat\r\n      \"isDone\": false,\r\n      \"paidway\": \"\",\r\n      \"reason\": \"\",\r\n      \"date\": \"\"\r\n      }))\r\n      return true;\r\n  }\r\n  changeP(key, e) {\r\n    this.setState({ [key]: e.target.value });\r\n  }\r\n\r\n  select(x) {\r\n    if (typeof (x) == \"number\") x = [x];\r\n    this.setState((state, props) => ({ custemors: state.custemors.concat(x) }))\r\n  }\r\n  remove(x) {\r\n    this.setState((state, props) => ({ custemors: state.custemors.filter((item) => item != x) }))\r\n\r\n  }\r\n  render() {\r\n    return (<div className=\"container mx-auto px-4\">\r\n      <section className=\"py-12 px-4\">\r\n        <h2 className=\"text-3xl mb-8 text-center font-heading\">יצירת חיוב חדש</h2>\r\n        <div className=\"w-full max-w-2xl mx-auto mb-12\">\r\n          \r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.subject} onChange={(e) => this.changeP(\"subject\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"כותרת\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.price} onChange={(e) => this.changeP(\"price\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"סכום בש'ח\" />\r\n                {/*select class=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\">\r\n                  <option>-- Select product --</option>\r\n                  <option>Product 1</option>\r\n                  <option>Product 2</option>\r\n                  <option>Product 3</option>\r\n                </select*/}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.date} onChange={(e) => this.changeP(\"date\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"תאריך\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.notes} onChange={(e) => this.changeP(\"notes\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"הערות\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <section className=\"w-full text-center mb-4\">\r\n\r\n                <input onChange={(e) => this.setState({ filtor: e.target.value })} className=\"w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"חיפוש לקוחות\" />\r\n                <button onClick={() => this.select(this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map(x => x.id))} className=\"md-w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm text-white bg-indigo-500 hover:bg-indigo-600\">בחירה\r\n                    ({this.props.arrCustemores.filter((x) => x.name.includes(this.state.filtor)).length})</button>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"text-center flex flex-wrap justify-around block\">\r\n\r\n\r\n                  {this.props.arrCustemores.filter((x) => this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.remove(client.id)} key={client.id} className=\"relative w-full xl:w-1/3 py-2 px-10 my-1 mb-0 hover:bg-blue-100 cursor-pointer border-gray-200 bg-gray-100 border-b-2 border-l-2\">\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\"><input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" defaultChecked /></div>\r\n                      <p>{client.name}</p>\r\n                    </button>)}\r\n                </div>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"flex flex-wrap text-center\">\r\n                  {this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.select(client.id)} key={client.id} className=\"relative w-full xl:w-5/12 py-2 px-10 m-1 mb-0 hover:bg-blue-100 cursor-pointer border-gray-200 border-b-2\">\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\" />\r\n                      <p>\r\n                        {client.name}\r\n                      </p>\r\n                    </button>)}\r\n\r\n                </div>\r\n              </section>\r\n            </div>\r\n            <div>\r\n              <button onClick={() => this.submit()?this.context.close(\"חיוב חדש\"):console.log(\"בעיה\")} className=\"inline-block w-full py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\">יצירת חיוב</button>\r\n            </div>\r\n          \r\n        </div>\r\n        {/*div class=\"flex flex-col lg:flex-row lg:justify-center -mx-4\">\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/home.svg\" alt=\"\"><span>1725\r\n            Slough Avenue, Scranton</span></div>\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/mobile.svg\"\r\n            alt=\"\"><span>555-111-555</span></div>\r\n        <div class=\"px-4\"> <img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/message.svg\"\r\n            alt=\"\"><span>scranton@dundermifflin.com</span></div>\r\n      </div*/}\r\n      </section>\r\n    </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nexport default class Search extends React.Component {\r\n    render() {\r\n        const fillrerd = this.props.arrCustemores.filter((item)=>item.name.includes(this.props.searchWord));\r\n        return ( <div className=\"listBar w-64 z-50 tooltip-text flex justify-center p-2 px-3\">\r\n\r\n        <div className=\"w-full max-w-md\">\r\n          <div className=\"bg-white shadow-md rounded-lg px-3 mb-4\">\r\n            <div className=\"py-3 text-sm overflow-y-auto max-h-screen\">\r\n                {fillrerd.map((item)=><button key={item.id} onClick={()=>this.props.link({\"page\":\"דפי חשבון\",\"params\":item.id})} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\r\n                    <span className=\"bg-gray-400 h-2 w-2 m-2 rounded-full\" />\r\n                    <div className=\"flex-grow font-medium px-2\">{item.name}</div>\r\n                    </button>)}\r\n                {fillrerd.length === 0?<button key={0} onClick={()=>this.props.link(\"דפי חשבון\")} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\r\n                    <span className=\"bg-gray-400 h-2 w-2 m-2 rounded-full\" />\r\n                    <div className=\"flex-grow font-medium px-2\">אין תוצאות</div>\r\n                    </button>:null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       )\r\n    }\r\n}","import React from \"react\";\r\nimport Home from './home_component'\r\nimport Settings from './settings'\r\nimport NewFriend from './newFriend'\r\nimport NewFriendByXls from './newFriendByXls'\r\nimport FriendsList from './friendsList'\r\nimport Accuonts from './accountsPage'\r\nimport Tabs from './Tabs'\r\nimport NewCharge from './newCharge'\r\nimport NewMsb from './newMsb'\r\nimport Search from './search'\r\nimport UpdateMsb from './updateMsb'\r\n\r\nimport { functionsContext } from '../services/funcContext';\r\n\r\nexport default class Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            searchWord: \"\",\r\n            pages: { \"ראשי\": \"fff\" },\r\n        };\r\n    }\r\n    groupBy(xs, key) {\r\n        return xs.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n    idToCustemoreName(custemores, id) {\r\n        const res = custemores.filter((custemor) => id == custemor[\"id\"]);\r\n        if (res.length) return [id, res[0][\"name\"], res[0][\"status\"]];\r\n        return id;\r\n    }\r\n\r\n    connectClientsTo1Bill(bill1, billed) {\r\n        if (bill1.length < 0) { console.log(\"problem - selector dont find\"); ParseBill[\"custemors\"] = []; return ParseBill; }\r\n        const ParseBill = JSON.parse(JSON.stringify(bill1[0]));\r\n        const relevantBill = billed.filter((bill) => bill[\"FatherBillId\"] === ParseBill[\"id\"]);\r\n        const jsonGroup = this.groupBy(relevantBill, \"custemorId\"); // maybe take a many items in same item - each item new line at biiled\r\n        let output = []\r\n        for (const index of Object.keys(jsonGroup)) {\r\n            output.push(Number(index));\r\n        }\r\n        ParseBill[\"custemors\"] = output;\r\n\r\n        return ParseBill;\r\n    }\r\n    createArrDebts(billed,custemores){\r\n        const ParseBill = JSON.parse(JSON.stringify(billed));\r\n        return ParseBill.filter((item)=>\"debtTime\" in item).map((item)=>{\r\n            item[\"custemore\"] = this.idToCustemoreName(custemores, item.custemorId)[1]\r\n            return item;\r\n        });\r\n    }\r\n    parserBillsClients(bills, billed, custemores) {\r\n        const ParseBill = JSON.parse(JSON.stringify(bills));\r\n        for (var i = 0; i < ParseBill.length; i++) {\r\n            const relevantBill = billed.filter((bill) => bill[\"FatherBillId\"] === ParseBill[i][\"id\"]);\r\n            const jsonGroup = this.groupBy(relevantBill, \"custemorId\"); // maybe take a many items in same item - each item new line at biiled\r\n            let output = []\r\n            for (const index of Object.keys(jsonGroup)) {\r\n                const value = jsonGroup[index];\r\n                const totalTaxes = value.length;\r\n                output.push([this.idToCustemoreName(custemores, index), Number(totalTaxes.toFixed(2))]);\r\n            }\r\n            ParseBill[i][\"custemors\"] = output;\r\n        }\r\n        return ParseBill;\r\n    }\r\n    parserMsbIndex(msbIndex, billed, custemores) {\r\n        const ParseMsb = JSON.parse(JSON.stringify(msbIndex));\r\n        for (var i = 0; i < ParseMsb.length; i++) {\r\n            const relevantBill = billed.filter((bill) => bill[\"msbId\"] === ParseMsb[i][\"id\"]);\r\n            const jsonGroup = this.groupBy(relevantBill, \"custemorId\");\r\n            let output = []\r\n            for (const index of Object.keys(jsonGroup)) {\r\n                const value = jsonGroup[index];\r\n                const totalTaxes = value.reduce(function (sum, pay) {\r\n                    return sum + pay.payed;\r\n                }, 0);\r\n                output.push([this.idToCustemoreName(custemores, index), Number((totalTaxes*1.0).toFixed(2))]);\r\n            }\r\n            ParseMsb[i][\"reports\"] = output;\r\n        }\r\n        return ParseMsb;\r\n    }\r\n    scrollToRef() { window.scrollTo(0, this.myRef.current.offsetTop) }\r\n    link(linkObj) {\r\n        if (typeof (linkObj) == \"string\") { linkObj = { \"page\": linkObj }; }\r\n        const dic = {\r\n            \"חבר חדש\": () => (linkObj.params) ? this.props.custemores.filter((item) => item.id == linkObj.params) : null,\r\n            \"חברים מאקסל\": () => null,\r\n            \"הגדרות\": () => null,\r\n            \"רשימת לקוחות\": () => null,\r\n            \"חיוב חדש\": () => (linkObj.params && linkObj.params.opCode == \"clientNum\") ? linkObj.params.clientNum : (linkObj.params && linkObj.params.opCode == \"chargeNum\")?  this.connectClientsTo1Bill(this.props.bills.filter((item) => item.id == linkObj.params.chargeNum), this.props.billed) : null,\r\n            \"דפי חשבון\": () => (linkObj.params) ? linkObj.params : null,\r\n            \"יצירת מסב\": () => null,\r\n            \"עדכון מסב\": () => (linkObj.params) ? {\"billData\":this.getReuqstPay(linkObj.params),\"msbEntery\":this.props.msbIndex.filter((item) => item.id == linkObj.params)}: null\r\n        }\r\n        let tempPages = this.state.pages;\r\n        tempPages[linkObj.page] = dic[linkObj.page]();\r\n        this.setState({ pages: tempPages });\r\n        this.scrollToRef();\r\n    }\r\n    getReuqstPay(fillter = 0) {\r\n        const notDebtFunc = (item)=> !item.debtTime;\r\n        const fillterFunc = (fillter == 0)?((payed)=>{return !payed.isDone && payed.payed>0}):((payed)=>{return payed.isDone && payed.payed>0 && payed.msbId == fillter});\r\n        \r\n        return this.props.billed.filter((item)=>fillterFunc(item) && notDebtFunc(item)).map((item) => {\r\n            item[\"company\"] = this.idToCustemoreName(this.props.custemores,item.custemorId)[1] //need valid\r\n\r\n            const fatherBill = this.props.bills.filter((bill) => bill.id == item.FatherBillId);\r\n\r\n            if (!item.payed && fatherBill.length == 0) {\r\n                console.log(\"data not constintent\", item.FatherBillId, \"not exist\");\r\n                item[\"payed\"] = 0;\r\n                return JSON.parse(JSON.stringify(item));\r\n            }\r\n\r\n            if(fatherBill.length != 0) {\r\n                item[\"FatherBillName\"] = fatherBill[0].subject;\r\n                item[\"about\"] = fatherBill[0].notes;\r\n                item[\"FatherDate\"] = fatherBill[0].date;\r\n            }\r\n\r\n            if (!item.payed) {\r\n                item[\"payed\"] = fatherBill[0].price;\r\n                return JSON.parse(JSON.stringify(item));\r\n            }\r\n            return JSON.parse(JSON.stringify(item));\r\n        });\r\n    }\r\n    close(page) {\r\n            if(page == \"ראשי\") { console.log(\"לא ניתן לסגור\"); return; }\r\n        let tempPages = this.state.pages;\r\n        delete tempPages[page];\r\n        this.setState({ pages: tempPages });\r\n    }\r\n    render() {\r\n        const dic = {\r\n            \"ראשי\": (<Home arrdebts={this.createArrDebts(this.props.billed,this.props.custemores)} arrbills={this.parserBillsClients(this.props.bills, this.props.billed, this.props.custemores)} msbIndex={this.parserMsbIndex(this.props.msbIndex, this.props.billed, this.props.custemores)}></Home>),\r\n            \"חבר חדש\": <NewFriend clients={this.props.custemores} update_custemores={(data) => this.props.update_custemores(data)} link={(x) => this.link(x)} close={(x) => this.close(x)}></NewFriend>,\r\n            \"חברים מאקסל\": <NewFriendByXls arrCustemores={this.props.custemores}></NewFriendByXls>,\r\n            \"הגדרות\": <Settings></Settings>,\r\n            \"רשימת לקוחות\": <FriendsList arrCustemores={this.props.custemores}></FriendsList>,\r\n            \"דפי חשבון\": <Accuonts msbIndex={this.props.msbIndex} arrCustemores={this.props.custemores} arrbilled={this.props.billed}></Accuonts>,\r\n            \"חיוב חדש\": <NewCharge update_charge={(data) => this.props.update_charge(data)} update_bill={(data) => this.props.update_bill(data)} arrCustemores={this.props.custemores}></NewCharge>,\r\n            \"יצירת מסב\": <NewMsb update_msb={(data) => this.props.update_msb(data)} update_bill={(data) => this.props.update_bill(data)} arrCustemoreBills={this.getReuqstPay()}></NewMsb>,\r\n            \"עדכון מסב\": <UpdateMsb update_msb={(data) => this.props.update_msb(data)} update_bill={(data) => this.props.update_bill(data)} arrCustemoreBills={this.getReuqstPay()}></UpdateMsb>\r\n        }\r\n        return (\r\n            \r\n            <div className=\"text-body font-body\">\r\n                <div>\r\n                    <div className=\"w-full h-64\" style={{ marginBottom: '-5%' }}>\r\n                        <div className=\" mx-auto\">\r\n                            <button onClick={() => this.link(\"הגדרות\")} className=\"py-8 px-3 text-sm text-black font-semibold bg-gray-300 rounded-bl-full hover:bg-gray-200 cursor-pointer\">\r\n                                הגדרות\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"container mx-auto px-3\">\r\n                        <div ref={this.myRef} className=\"relative flex justify-center text-gray-600\">\r\n                            <div className=\"searchFather md:absolute relative left-0 mb-6\">\r\n\r\n                                <input type=\"search\" name=\"serch\" onChange={(e) => this.setState({ searchWord: e.target.value })} placeholder=\"חיפוש דפי חשבון\" autoComplete=\"off\" className=\"search md:w-2 w-64 mx-auto bg-gray-200 h-10 px-5 pr-10 rounded-full text-md border-l-2 border-t-2 focus:outline-none\" />\r\n                                <button type=\"submit\" className=\"absolute right-0 top-0 mt-3 mr-4\" onClick={() => this.link(\"דפי חשבון\")}>\r\n                                    <svg className=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{ enableBackground: 'new 0 0 56.966 56.966' }} xmlSpace=\"preserve\" width=\"512px\" height=\"512px\">\r\n                                        <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\">\r\n                                        </path>\r\n                                    </svg>\r\n                                </button>\r\n                                <Search arrCustemores={this.props.custemores} searchWord={this.state.searchWord} link={(value) => this.link(value)}></Search>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <functionsContext.Provider value={{ link: (x) => this.link(x), close: (x) => this.close(x) }}>\r\n                            <Tabs sons={this.state.pages}\r\n                                render={\r\n                                    (parms) => (\r\n                                        Object.keys(this.state.pages).map((child) =>\r\n                                            <div label={child} key={child} className={(child !== parms.activeTab) ? \"fadeOut\" : \"fadeIn\"} >\r\n                                                {React.cloneElement(\r\n                                                    dic[child],\r\n                                                    { edit: this.state.pages[child] }\r\n                                                )\r\n\r\n                                                }\r\n                                            </div>)\r\n                                    )\r\n                                }\r\n                            >\r\n                            </Tabs>\r\n                        </functionsContext.Provider>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>)\r\n    }\r\n}","import React from 'react';\r\nimport bills from '../tools/bills.json';\r\nimport custemores from '../tools/person.json';\r\nimport msbIndex from '../tools/msbsIndex.json'\r\nimport billed from '../tools/billed.json'\r\nimport Index from '../components/index';\r\n\r\nconst AppContext = React.createContext({\r\n    bills: null,\r\n    custemores: null,\r\n    custemoreBills: null,\r\n    msbIndex: null,\r\n    billed: null,\r\n});\r\n\r\nexport default class DataContext extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            bills: bills,\r\n            custemores: custemores,\r\n            msbIndex: msbIndex,\r\n            billed: billed,\r\n            update_custemores: (data) => this.update_custemores(data),\r\n            update_charge: (data) => this.update_charge(data),\r\n            update_bill: (data) => this.update_bill(data),\r\n            update_msb: (data) => this.update_msb(data)\r\n        };\r\n    }\r\n\r\n    update_custemores(data) {\r\n        let f = JSON.parse(JSON.stringify(this.state.custemores))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        this.setState({ custemores: f });\r\n        return true;\r\n    }\r\n    update_msb(data) {\r\n        let f = JSON.parse(JSON.stringify(this.state.msbIndex))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        this.setState({ msbIndex: f });\r\n        return true;\r\n    }\r\n    update_charge(data) {\r\n        let f = JSON.parse(JSON.stringify(this.state.bills))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        this.setState({ bills: f });\r\n        return true;\r\n    }\r\n\r\n    help_update_bill(state, data) {\r\n        let f = JSON.parse(JSON.stringify(state.billed))\r\n        const index = f.findIndex(x => x.transaId == data.transaId)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            // in msb - change isDone to True and put price. after that his responsibaly to put new charge - to complit the pay (if need).\r\n            if (!f[index].isDone)\r\n                f[index] = data\r\n            else {\r\n                if (data.payed == 0) {\r\n                    f[index] = data\r\n                } else {\r\n                    console.log(\"your change not allow - becouse the charge is done!\", data, f[index])\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return f;\r\n    }\r\n\r\n    update_bill(data) {\r\n        if(this.help_update_bill(this.state, data)){\r\n            this.setState((state, props) => ({ billed: this.help_update_bill(state, data) }))\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    render() {\r\n        return (\r\n            <Index\r\n                {...this.state} />\r\n        );\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './tailwind/tailwind-theme.css';\nimport './components/home_component.css';\nimport * as serviceWorker from './serviceWorker';\n//import Home from './components/index'\nimport DataContext from './services/contextData'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}