{"version":3,"sources":["services/funcContext.js","components/newFriendByXls.js","tools/xlsParser.js","components/friendsList.js","placeholders/icons/zondicons/edit-pencil.svg","placeholders/icons/zondicons/at-symbol.svg","placeholders/icons/zondicons/printer.svg","placeholders/icons/zondicons/credit-card.svg","placeholders/icons/zondicons/document-add.svg","placeholders/icons/zondicons/user-solid-square.svg","placeholders/icons/close.svg","components/newMsb.js","components/updateMsb.js","placeholders/icons/zondicons/cog.svg","services/fireBaseContactor.js","placeholders/icons/shield.svg","placeholders/icons/cloud-tools.svg","serviceWorker.js","components/list_description.js","components/summary_row_charge.js","components/summary_row_msbs.js","components/summary_row_debt.js","components/summary_row_user_charge.js","components/summray_table.js","components/home_component.js","components/settings.js","components/newFriend.js","components/accountsPage.js","components/Tab.js","components/Tabs.js","components/newCharge.js","components/newPay.js","components/search.js","components/index.js","services/contextData.js","index.js"],"names":["functionsContext","React","createContext","link","close","createMsb","MySelect","props","onChange","event","onselect","target","value","className","Component","HeaderLine","order","onClick","e","table","sortValues","identify","eval","getAttribute","setAttribute","Math","abs","this","name","WorpClass","state","afterTreat","dic","res","CSVToArray","String","fromCharCode","output","i","js","v","length","Object","keys","arrCustemores","filter","x","push","console","log","setState","map","item","update_custemores","context","getdata","placeholder","MyTable","submit","data","contextType","BodyLine","elements","allElements","key","filterdData","concat","myData","sort","a","b","items","entries","RowTable","k","filterValues","xmlns","viewBox","d","href","type","id","address","email","accuntnum","brancenum","banknum","aria-hidden","status","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedValue","strMatchedDelimiter","replace","module","exports","val","defultTrue","arrCustemoreBills","JSON","parse","stringify","filterKey","xs","reduce","rv","groupBy","totalTaxes","sum","pay","payed","modif","Number","toFixed","company","transaId","random","toString","substr","index","findIndex","s","tempElem","_title","o","isDone","msbId","round","jsonGroup","Date","getTime","date","arrbills","bill","editbill","update","update_bill","update_payment","client","msb","update_msb","selectFilter","toggelActive","active","FatherBillName","FatherDate","about","edit","billData","reason","msbEntery","updateTime","temp","reasonvalue","editReason","cancel","CreateMsb","DATA","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ListDescription","SummaryRow","subject","price","custemors","parseFloat","createTime","toLocaleDateString","total","reports","custemore","mode","msbTime","SummrayTable","HomeComponent","src","require","alt","msbIndex","arrdebts","Settings","defaultValue","title","disabled","NewFriend","style","backgroundImage","htmlFor","changeP","AccountsPage","us","user","explain","Table","arrpayments","custemorId","method","seccess","TableCharge","arrbilled","updateBill","FatherBillId","debt","overflowX","fillRule","face","onMouseOut","onMouseOver","documentadd","creditcard","editSvg","shtrodelSvg","printer","Tab","label","activeTab","closeFunc","closesolid","Tabs","onClickTabItem","tab","sons","child","render","nextProps","prevState","diff","includes","Index","now","notes","bannedCustemors","filtor","selected","oldValue","removes","update_charge","replaceAll","forAdd","forRemove","el","remove_bill","xAfterFilter","num","select","remove","defaultChecked","Search","fillrerd","searchWord","myRef","createRef","pages","custemores","custemor","bill1","billed","ParseBill","relevantBill","afterMsb","idToCustemoreName","bills","payments","ParseMsb","scrollTo","current","offsetTop","linkObj","params","opCode","clientNum","connectClientsTo1Bill","chargeNum","getReuqstPay","tempPages","page","scrollToRef","Father","fillter","fillterFunc","plus","minus","minusandplus","payment","charges","jsonGroup2","total2","jsonGroup3","count","debt_new_clac","parserBillsClients","parserMsbIndex","clients","createDoneCharge","marginBottom","cog","ref","autoComplete","xmlnsXlink","version","y","enableBackground","xmlSpace","width","height","Provider","parms","cloneElement","DataContext","number","ShekelInt","floor","AgurotInt","ByClients","Users","Client","sumOfFile","f","help_update_custemores","edit_asinc","help_update_bill","help_update_payment","help_remove_bill","func","ReactDOM","StrictMode","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ffaabfe7.chunk.js","sourcesContent":["\r\nimport React from \"react\";\r\nexport const functionsContext = React.createContext({\r\n    link: () => {},\r\n    close: () => {},\r\n    createMsb: () => {}\r\n  });","import React from \"react\";\r\nimport {CSVToArray} from '../tools/xlsParser';\r\nimport {functionsContext} from '../services/funcContext';\r\n//import per from '../tools/person.json';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <select onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n                <option value=\"ALL\">כולם</option>\r\n                <option value=\"active\">פעילים</option>\r\n                <option value=\"notactive\">מושהים</option>\r\n            </select>\r\n        );\r\n    }\r\n}\r\n\r\nclass HeaderLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                {this.props.name}</th>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class WorpClass extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            afterTreat: [{}]\r\n        };\r\n    }\r\n    static contextType = functionsContext;\r\n    getdata(value) {\r\n        const dic = [\r\n            \"name\", \"id\", \"address\", \"email\", \"accuntnum\", \"brancenum\", \"banknum\"\r\n        ]\r\n        const res = CSVToArray(value, String.fromCharCode(9))\r\n        let output = []\r\n        for (let i in res) {\r\n            let js = {}\r\n            for (let v in res[i]) {\r\n                js[dic[v % dic.length]] = res[i][v]\r\n            }\r\n            if (Object.keys(js).length == Object.keys(dic).length) {\r\n                if (this.props.arrCustemores.filter((x) => x[\"id\"] == js[\"id\"]).length)\r\n                    js[\"status\"] = \"duplicate\"\r\n                else\r\n                    js[\"status\"] = \"active\"\r\n                output.push(js)\r\n            }\r\n        }\r\n\r\n        console.log(output)\r\n        this.setState({ afterTreat: output });\r\n    }\r\n    submit(){\r\n        this.state.afterTreat.map((item)=>{\r\n            this.props.update_custemores(item)\r\n            return null;\r\n        });\r\n        this.context.close(\"חברים מאקסל\")\r\n    }\r\n    render() {\r\n        return <div className=\"xl:flex flex-row justify-between shadow-md border rounded-md\">\r\n            <div\r\n                className=\"flex flex-col items-center xl:w-1/4 px-4 py-2 bg-white xl:border-l-2 border-gray-500 border-dashed rounded-l-md\">\r\n                <textarea onChange={(e) => this.getdata(e.target.value)} className=\"w-full h-48 border-2 border-black \"\r\n                    placeholder=\"נא להדביק כאן את הטבלה המועתקת מEXCEL\"></textarea>\r\n\r\n                <div className=\"flex-col\">\r\n                    <p className=\"my-2 text-xs italic font-light text-gray-500\">\r\n\r\n                    </p>\r\n                    <div className=\"text-xs mb-2 text-gray-600\">\r\n                        <span className=\"text-gray-500\">הוראות ליבוא הלקוחות</span>\r\n                        <br />\r\n                פשוט לבחור את כל השורות הרצויות, להעתיק ולהדביק בתיבת הטקסט\r\n                כל עדכון של תיבת הטקסט יעדכן את הטבלה.\r\n            </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"relative flex flex-col xl:w-3/4\">\r\n                <div className=\"mx-auto px-4 sm:px-8\">\r\n                    <MyTable submit={()=>this.submit()} data={this.state.afterTreat} />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\n\r\nclass BodyLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n                <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nclass MyTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elements: this.props.data,\r\n            allElements: this.props.data\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(props, state) {\r\n        // Any time the current user changes,\r\n        // Reset any parts of state that are tied to that user.\r\n        // In this simple example, that's just the email.\r\n        if (props.data !== state.elements) {\r\n            return {\r\n                elements: props.data,\r\n                allElements: props.data\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    filterValues(key, order) {\r\n        if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n        console.log(key, order)\r\n        const myData = [].concat(this.state.allElements)\r\n        const filterdData = myData.filter(item => item[key] == order);\r\n        this.setState({ elements: filterdData });\r\n    }\r\n    sortValues(key, order) {\r\n        const myData = [].concat(this.state.elements)\r\n        if (order == 1)\r\n            myData.sort(function (a, b) {\r\n                if (a[key] < b[key])\r\n                    return -1;\r\n                if (a[key] > b[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        else\r\n            myData.sort(function (a, b) {\r\n                if (b[key] < a[key])\r\n                    return -1;\r\n                if (b[key] > a[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        this.setState({ elements: myData });\r\n    }\r\n    render() {\r\n        const elements = [];\r\n        const items = []\r\n        for (const [index, value] of this.state.elements.entries()) {\r\n            items.push(<RowTable target={value} />)\r\n        }\r\n        return <div className=\"py-8\">\r\n            <div className=\"my-2 flex sm:flex-row flex-col\">\r\n                <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                    <div className=\"relative\">\r\n                        <MySelect onselect={(k, v) => this.filterValues(\"status\", v)} />\r\n                        <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                            <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n                    <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n                        </path>\r\n                    </svg></span>\r\n                    <input\r\n                        className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                        placeholder=\"Search\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n                <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n                    <table className=\"leading-normal table-fixed w-full\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th\r\n                                    className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                                    בחירה</th>\r\n                                <HeaderLine identify=\"name\" name=\"שם\" table={() => this} />\r\n                                <HeaderLine identify=\"id\" name=\"מספר ח.פ.\" table={() => this} />\r\n                                <HeaderLine identify=\"address\" name=\"כתובת\" table={() => this} />\r\n                                <HeaderLine identify=\"email\" name=\"כתובת mail\" table={() => this} />\r\n                                <HeaderLine identify=\"accuntnum\" name=\"מספר חשבון\" table={() => this} />\r\n                                <HeaderLine identify=\"brancenum\" name=\"מספר סניף\" table={() => this} />\r\n                                <HeaderLine identify=\"banknum\" name=\"מספר בנק\" table={() => this} />\r\n                                <HeaderLine identify=\"status\" name=\"קטגוריה\" table={() => this} />\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {items}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n                    className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חברים מתוך {this.state.allElements.length}</span>\r\n                </div>\r\n            </div>\r\n            <button onClick={()=>this.props.submit()} className=\"items-center w-full flex flex-col\">\r\n                <a\r\n                    className=\"inline-block my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n                    href=\"#\">יבוא לקוחות</a></button>\r\n        </div>\r\n    }\r\n}\r\nclass RowTable extends React.Component {\r\n    render() {\r\n        return <tr>\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n                <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n                        <input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n                    </label></div>\r\n                    <div className=\"ml-3\">\r\n                        <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <BodyLine value={this.props.target.name} />\r\n            <BodyLine value={this.props.target.id} />\r\n            <BodyLine value={this.props.target.address} />\r\n            <BodyLine value={this.props.target.email} />\r\n            <BodyLine value={this.props.target.accuntnum} />\r\n            <BodyLine value={this.props.target.brancenum} />\r\n            <BodyLine value={this.props.target.banknum} />\r\n\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\"><span\r\n                className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n                    className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\" aria-hidden=\"\"></span><span\r\n                        className=\"relative\">{this.props.target.status}</span></span></td>\r\n        </tr>\r\n    }\r\n}","// ref: http://stackoverflow.com/a/1293163/2343\r\n// This will parse a delimited string into an array of\r\n// arrays. The default delimiter is the comma, but this\r\n// can be overriden in the second argument.\r\nexport function CSVToArray( strData, strDelimiter ){\r\n    // Check to see if the delimiter is defined. If not,\r\n    // then default to comma.\r\n    strDelimiter = (strDelimiter || \",\");\r\n\r\n    // Create a regular expression to parse the CSV values.\r\n    var objPattern = new RegExp(\r\n        (\r\n            // Delimiters.\r\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\r\n\r\n            // Quoted fields.\r\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\r\n\r\n            // Standard fields.\r\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\r\n        ),\r\n        \"gi\"\r\n        );\r\n\r\n\r\n    // Create an array to hold our data. Give the array\r\n    // a default empty first row.\r\n    var arrData = [[]];\r\n\r\n    // Create an array to hold our individual pattern\r\n    // matching groups.\r\n    var arrMatches = null;\r\n\r\n\r\n    // Keep looping over the regular expression matches\r\n    // until we can no longer find a match.\r\n    while (arrMatches = objPattern.exec( strData )){\r\n\r\n        // Get the delimiter that was found.\r\n        var strMatchedDelimiter = arrMatches[ 1 ];\r\n\r\n        // Check to see if the given delimiter has a length\r\n        // (is not the start of string) and if it matches\r\n        // field delimiter. If id does not, then we know\r\n        // that this delimiter is a row delimiter.\r\n        if (\r\n            strMatchedDelimiter.length &&\r\n            strMatchedDelimiter !== strDelimiter\r\n            ){\r\n\r\n            // Since we have reached a new row of data,\r\n            // add an empty row to our data array.\r\n            arrData.push( [] );\r\n\r\n        }\r\n\r\n        var strMatchedValue;\r\n\r\n        // Now that we have our delimiter out of the way,\r\n        // let's check to see which kind of value we\r\n        // captured (quoted or unquoted).\r\n        if (arrMatches[ 2 ]){\r\n\r\n            // We found a quoted value. When we capture\r\n            // this value, unescape any double quotes.\r\n            strMatchedValue = arrMatches[ 2 ].replace(\r\n                new RegExp( \"\\\"\\\"\", \"g\" ),\r\n                \"\\\"\"\r\n                );\r\n\r\n        } else {\r\n\r\n            // We found a non-quoted value.\r\n            strMatchedValue = arrMatches[ 3 ];\r\n\r\n        }\r\n\r\n\r\n        // Now that we have our value string, let's add\r\n        // it to the data array.\r\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\r\n    }\r\n\r\n    // Return the parsed data.\r\n    return( arrData );\r\n}\r\n\r\n//CSVToArray(abc.value,String.fromCharCode(9))\r\n","import React from \"react\";\r\n//import per from '../tools/person.json';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <select onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n          className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none sm:border-r-0 border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n          <option value=\"ALL\">כולם</option>\r\n          <option value=\"active\">פעילים</option>\r\n          <option value=\"notactive\">מושהים</option>\r\n        </select>\r\n      );\r\n    }\r\n  }\r\n\r\n  class HeaderLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n          className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.name}</th>\r\n      );\r\n    }\r\n  }\r\n\r\n  class BodyLine extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    render() {\r\n      return (\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n          <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n        </td>\r\n      );\r\n    }\r\n  }\r\n\r\nexport default class MyTable extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        elements: this.props.arrCustemores,\r\n        allElements: this.props.arrCustemores\r\n      };\r\n    }\r\n    filterValues(key, order) {\r\n      if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n\r\n      const myData = [].concat(this.state.allElements)\r\n      const filterdData = myData.filter(item => item[key] == order);\r\n      this.setState({ elements: filterdData });\r\n    }\r\n    sortValues(key, order) {\r\n      const myData = [].concat(this.state.elements)\r\n      if (order == 1)\r\n        myData.sort(function (a, b) {\r\n          if (a[key] < b[key])\r\n            return -1;\r\n          if (a[key] > b[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      else\r\n        myData.sort(function (a, b) {\r\n          if (b[key] < a[key])\r\n            return -1;\r\n          if (b[key] > a[key])\r\n            return 1;\r\n          return 0;\r\n        }\r\n        );\r\n      this.setState({ elements: myData });\r\n    }\r\n    render() {\r\n      \r\n      const items = []\r\n      for (const [index, value] of this.state.elements.entries()) {\r\n        items.push(<RowTable key={value.id} target={value} />)\r\n      }\r\n      return <div className=\"py-8\">\r\n        <div className=\"my-2 flex sm:flex-row flex-col\">\r\n          <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n            <div className=\"relative\">\r\n              <MySelect onselect={(k, v) => this.filterValues(\"status\", v)} />\r\n              <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n            <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n              </path>\r\n            </svg></span>\r\n            <input\r\n              className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n              placeholder=\"Search\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto\">\r\n          <div className=\"inline-block min-w-full shadow rounded-lg overflow-hidden\">\r\n            <table className=\"leading-normal table-fixed w-full\">\r\n              <thead>\r\n                <tr>\r\n                  <th\r\n                    className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                    בחירה</th>\r\n                  <HeaderLine identify=\"name\" name=\"שם\" table={() => this} />\r\n                  <HeaderLine identify=\"id\" name=\"מספר ח.פ.\" table={() => this} />\r\n                  <HeaderLine identify=\"address\" name=\"כתובת\" table={() => this} />\r\n                  <HeaderLine identify=\"email\" name=\"כתובת mail\" table={() => this} />\r\n                  <HeaderLine identify=\"accuntnum\" name=\"מספר חשבון\" table={() => this} />\r\n                  <HeaderLine identify=\"brancenum\" name=\"מספר סניף\" table={() => this} />\r\n                  <HeaderLine identify=\"banknum\" name=\"מספר בנק\" table={() => this} />\r\n                  <HeaderLine identify=\"status\" name=\"קטגוריה\" table={() => this} />\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n            className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חברים מתוך {this.state.allElements.length}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }\r\n  }\r\n  class RowTable extends React.Component {\r\n    render() {\r\n      return <tr>\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\">\r\n          <div className=\"flex items-center\">\r\n            <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n              <input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n            </label></div>\r\n            <div className=\"ml-3\">\r\n              <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n            </div>\r\n          </div>\r\n        </td>\r\n        <BodyLine value={this.props.target.name} />\r\n        <BodyLine value={this.props.target.id} />\r\n        <BodyLine value={this.props.target.address} />\r\n        <BodyLine value={this.props.target.email} />\r\n        <BodyLine value={this.props.target.accuntnum} />\r\n        <BodyLine value={this.props.target.brancenum} />\r\n        <BodyLine value={this.props.target.banknum} />\r\n\r\n        <td className=\"px-5 border-b overflow-hidden border-gray-200 bg-white text-sm\"><span\r\n          className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n            className=\"absolute inset-0 bg-green-200 opacity-50 rounded-full\" aria-hidden=\"\"></span><span\r\n              className=\"relative\">{this.props.target.status}</span></span></td>\r\n      </tr>\r\n    }\r\n  }","module.exports = __webpack_public_path__ + \"static/media/edit-pencil.34f5b306.svg\";","module.exports = __webpack_public_path__ + \"static/media/at-symbol.09cc7757.svg\";","module.exports = __webpack_public_path__ + \"static/media/printer.82401d18.svg\";","module.exports = __webpack_public_path__ + \"static/media/credit-card.1098bac6.svg\";","module.exports = __webpack_public_path__ + \"static/media/document-add.7323a8e3.svg\";","module.exports = __webpack_public_path__ + \"static/media/user-solid-square.4c38d7c4.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.c6c6850e.svg\";","import React from \"react\";\r\n//import per from '../tools/Createbill.json';\r\nimport { functionsContext } from '../services/funcContext';\r\nclass MySelect extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <select value={this.props.val} onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n        className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n        <option value=\"ALL\">ללא קבוצות</option>\r\n        <option value=\"company\">בית עסק</option>\r\n        <option value=\"FatherBillName\">חיוב</option>\r\n        <option value=\"FatherDate\">תאריך חיוב</option>\r\n      </select>\r\n    );\r\n  }\r\n}\r\n\r\nclass HeaderLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n        className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n        {this.props.name}</th>\r\n    );\r\n  }\r\n}\r\n\r\nclass BodyLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    return (\r\n      <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n        <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n      </td>\r\n    );\r\n  }\r\n}\r\n\r\nexport default class MyTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const defultTrue = props.arrCustemoreBills.map((item) => {\r\n      const val = JSON.parse(JSON.stringify(item))\r\n      val[\"isDone\"] = \"active\";\r\n      return val\r\n    }\r\n    )\r\n    this.state = {\r\n      elements: defultTrue,\r\n      allElements: defultTrue,\r\n      filterKey: \"ALL\"\r\n    };\r\n  }\r\n  static contextType = functionsContext;\r\n  groupBy(xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x);\r\n      return rv;\r\n    }, {});\r\n  };\r\n\r\n  filterValues(key, order) {\r\n    if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n    const myData = [].concat(this.state.allElements)\r\n    const res = this.groupBy(myData, order)\r\n    let output = []\r\n    for (const index of Object.keys(res)) {\r\n      const value = res[index];\r\n      const totalTaxes = value.reduce(function (sum, pay) {\r\n        return sum + pay.payed;\r\n      }, 0);\r\n      let modif = JSON.parse(JSON.stringify(value[0])); //deep copy\r\n      modif.payed = Number(totalTaxes.toFixed(2));\r\n      modif.company = value.length;\r\n      modif.transaId = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\r\n      modif[\"_title\"] = true;\r\n      output.push(modif);\r\n      output = [].concat(output, value)\r\n    }\r\n    //const filterdData = myData.filter(item => item[key] == order);\r\n    this.setState({ elements: output });\r\n  }\r\n  sortValues(key, order) {\r\n    const myData = [].concat(this.state.allElements)\r\n    if (order == 1)\r\n      myData.sort(function (a, b) {\r\n        if (a[key] < b[key])\r\n          return -1;\r\n        if (a[key] > b[key])\r\n          return 1;\r\n        return 0;\r\n      }\r\n      );\r\n    else\r\n      myData.sort(function (a, b) {\r\n        if (b[key] < a[key])\r\n          return -1;\r\n        if (b[key] > a[key])\r\n          return 1;\r\n        return 0;\r\n      }\r\n      );\r\n    this.setState({ filterKey: \"ALL\" }) // restet filter\r\n    this.setState({ elements: myData });\r\n    this.setState({ allElements: myData }); // save sort why not?\r\n  }\r\n  active(id) {\r\n    if (id == false) { console.log(\"try toggle item without id..\"); return }\r\n    const index = this.state.elements.findIndex(s => s.transaId == id)\r\n    let tempElem = this.state.elements;\r\n    if (tempElem[index]._title) { console.log(\"try toggle title..\"); return }\r\n    if (tempElem[index][\"isDone\"] == \"active\")\r\n      tempElem[index][\"isDone\"] = \"notactive\";\r\n    else\r\n      tempElem[index][\"isDone\"] = \"active\";\r\n    this.setState({ elements: tempElem });\r\n    tempElem = tempElem.filter(o => !o._title); //remove titles\r\n    this.setState({ allElements: tempElem }); // save updates\r\n\r\n  }\r\n  submit() {\r\n    if (this.state.allElements.filter((item) => item.isDone == \"active\").length == 0) return;\r\n    const msbId = Math.round(Math.random() * 10000000)\r\n    const jsonGroup = this.groupBy(this.state.allElements.filter((item) => item.isDone === \"active\").map((item) => {\r\n      item = JSON.parse(JSON.stringify(item))\r\n      item[\"isDone\"] = true;\r\n      item[\"date\"] = (new Date()).getTime();\r\n      item[\"msbId\"] = msbId;\r\n      return item;\r\n    }), \"client\")\r\n    Object.keys(jsonGroup).map((index) => {\r\n      const value = jsonGroup[index];\r\n      const totalTaxes = value.reduce(function (sum, pay) {\r\n        return sum + pay.payed;\r\n      }, 0);\r\n      return { \"client\": index, payed: totalTaxes, \"payed\": totalTaxes,\"msbId\":value[0].msbId,\"date\": value[0].date }\r\n    }).map((item)=>{\r\n      this.props.arrbills.map((bill)=>{\r\n        let editbill = JSON.parse( JSON.stringify(bill));\r\n        editbill.isDone = true;\r\n        console.log(editbill)\r\n        return editbill\r\n\r\n      }).map((update)=>this.props.update_bill(update));\r\n      return item}).map((item) => {\r\n      this.props.update_payment({\r\n        \"transaId\": String(msbId) + item.client,\r\n        \"msbId\": item.msbId,\r\n        \"custemorId\": item.client,\r\n        \"payed\":item.payed,\r\n        \"method\": \"msb\",\r\n        \"seccess\": false,\r\n        \"reason\": \"\",\r\n        \"date\": item.date\r\n      });\r\n    })\r\n\r\n\r\n    let msb = {\r\n      \"id\": msbId,\r\n      \"total\": 0,\r\n      \"createTime\": (new Date()).getTime(),\r\n      \"updateTime\": \"\",\r\n      \"status\": \"ממתין לאישור\",\r\n      \"reason\": \"\"\r\n    }\r\n    this.props.update_msb(msb);\r\n    this.context.close(\"יצירת מסב\");\r\n  }\r\n  render() {\r\n    const items = []\r\n    for (const [index, value] of this.state.elements.entries()) {\r\n      items.push(<RowTable selectFilter={() => console.log(\"do something\", this.state.filterKey)} key={value.id} toggelActive={() => this.active(value.transaId)} target={value} />)\r\n    }\r\n    return <div className=\"py-8 px-1\">\r\n      <div className=\"my-2 flex justify-between w-full sm:flex-row flex-col\">\r\n        <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n          <div>\r\n            <div className=\"relative\">\r\n              <MySelect val={this.state.filterKey} onselect={(k, v) => { this.filterValues(\"status\", v); this.setState({ filterKey: v }) }} />\r\n              <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                  <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n            <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n              <path\r\n                d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n              </path>\r\n            </svg></span>\r\n            <input\r\n              className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n              placeholder=\"Search\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n          <a\r\n            className=\"inline-block py-1 px-8 text-white bg-red-200 hover:bg-indigo-600 rounded shadow\"\r\n            href=\"#\">להשאיר חוב (25)</a>\r\n        </div>\r\n      </div>\r\n      <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4\">\r\n        <div className=\"inline-block min-w-full shadow rounded-lg\">\r\n          <table className=\"leading-normal table-fixed w-full relative \">\r\n            <thead>\r\n              <tr>\r\n                <th\r\n                  className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                  בחירה</th>\r\n                <HeaderLine identify=\"company\" name=\"שם\" table={() => this} />\r\n                <HeaderLine identify=\"payed\" name=\"סכום לחיוב\" table={() => this} />\r\n                <HeaderLine identify=\"FatherBillName\" name=\"נושא חיוב\" table={() => this} />\r\n                <HeaderLine identify=\"FatherDate\" name=\"תאריך חיוב\" table={() => this} />\r\n                <HeaderLine identify=\"about\" name=\"פרטים\" table={() => this} />\r\n                <HeaderLine identify=\"isDone\" name=\"לגביה כעת\" table={() => this} />\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {items}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n          className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חיובים מתוך {this.state.allElements.length}</span>\r\n        </div>\r\n        <div className=\"flex flex-col items-center\"><button\r\n          onClick={() => this.submit()}\r\n          className=\"inline-block mx-auto my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n          href=\"#\">יצור קובץ מס\"ב</button></div>\r\n      </div>\r\n\r\n    </div>\r\n  }\r\n}\r\nclass RowTable extends React.Component {\r\n  render() {\r\n    return <tr className={(this.props.target._title ? 'group' : (\"debtTime\" in this.props.target) ? \"bg-red-100\" : \"\")}>\r\n      <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n            <input onChange={this.props.target._title ? () => this.props.selectFilter() : void (0)} type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n          </label></div>\r\n          <div className=\"ml-3\">\r\n            <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <BodyLine value={this.props.target.company} />\r\n      <BodyLine value={this.props.target.payed} />\r\n      <BodyLine value={((\"debtTime\" in this.props.target) ? \"חוב - \" : \"\") + this.props.target.FatherBillName} />\r\n      <BodyLine value={this.props.target.FatherDate} />\r\n      <BodyLine value={this.props.target.about} />\r\n\r\n      <td onClick={() => this.props.toggelActive()} className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\"><span\r\n        className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n          className={(this.props.target.isDone == \"active\" ? \"bg-green-200 \" : \"bg-red-200 \") + \"absolute inset-0 opacity-50 rounded-full\"} aria-hidden=\"\"></span><span\r\n            className=\"relative\">{this.props.target.isDone == \"active\" ? \"מאושר\" : \"לא לגביה\"}</span></span></td>\r\n    </tr>\r\n  }\r\n}","import React from \"react\";\r\n//import per from '../tools/Createbill.json';\r\nimport { functionsContext } from '../services/funcContext';\r\nclass MySelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <select value={this.props.val} onChange={(event) => { this.props.onselect(\"x\", event.target.value) }}\r\n                className=\"appearance-none h-full rounded-r border-t sm:rounded-r-none border-r border-b block appearance-none w-full bg-white border-gray-400 text-gray-700 py-2 px-4 pr-8 leading-tight focus:outline-none focus:border-l focus:border-r focus:bg-white focus:border-gray-500\">\r\n                <option value=\"ALL\">ללא קבוצות</option>\r\n                <option value=\"company\">בית עסק</option>\r\n                <option value=\"FatherBillName\">חיוב</option>\r\n                <option value=\"FatherDate\">תאריך חיוב</option>\r\n            </select>\r\n        );\r\n    }\r\n}\r\n\r\nclass HeaderLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <th order=\"0\" onClick={(e) => { this.props.table().sortValues(this.props.identify, eval(e.target.getAttribute(\"order\"))); e.target.setAttribute(\"order\", Math.abs(eval(e.target.getAttribute(\"order\")) - 1)); }}\r\n                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                {this.props.name}</th>\r\n        );\r\n    }\r\n}\r\n\r\nclass BodyLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return (\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n                <p className=\"text-gray-900 whitespace-no-wrap\">{this.props.value}</p>\r\n            </td>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class MyTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            elements: this.props.edit.billData,\r\n            allElements: this.props.edit.billData,\r\n            filterKey: \"ALL\",\r\n            reason: {}\r\n        };\r\n    }\r\n    static contextType = functionsContext;\r\n    groupBy(xs, key) {\r\n        return xs.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n    filterValues(key, order) {\r\n        if (order == \"ALL\") { this.setState({ elements: this.state.allElements }); return; }\r\n        console.log(key, order)\r\n        const myData = [].concat(this.state.allElements)\r\n        const res = this.groupBy(myData, order)\r\n        let output = []\r\n        for (const index of Object.keys(res)) {\r\n            const value = res[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            let modif = JSON.parse(JSON.stringify(value[0])); //deep copy\r\n            modif.payed = Number(totalTaxes.toFixed(2));\r\n            modif.company = value.length;\r\n            modif.transaId = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\r\n            modif[\"_title\"] = true;\r\n            output.push(modif);\r\n            output = [].concat(output, value)\r\n        }\r\n        //const filterdData = myData.filter(item => item[key] == order);\r\n        this.setState({ elements: output });\r\n    }\r\n    sortValues(key, order) {\r\n        const myData = [].concat(this.state.allElements)\r\n        if (order == 1)\r\n            myData.sort(function (a, b) {\r\n                if (a[key] < b[key])\r\n                    return -1;\r\n                if (a[key] > b[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        else\r\n            myData.sort(function (a, b) {\r\n                if (b[key] < a[key])\r\n                    return -1;\r\n                if (b[key] > a[key])\r\n                    return 1;\r\n                return 0;\r\n            }\r\n            );\r\n        this.setState({ filterKey: \"ALL\" }) // restet filter\r\n        this.setState({ elements: myData });\r\n        this.setState({ allElements: myData }); // save sort why not?\r\n    }\r\n    active(id) {\r\n        if (id == false) { console.log(\"try toggle item without id..\"); return }\r\n        const index = this.state.elements.findIndex(s => s.transaId == id)\r\n        let tempElem = this.state.elements;\r\n        if (tempElem[index]._title) { console.log(\"try toggle title..\"); return }\r\n        if (tempElem[index][\"isDone\"] == \"active\" || tempElem[index][\"isDone\"] === true)\r\n            tempElem[index][\"isDone\"] = \"notactive\";\r\n        else\r\n            tempElem[index][\"isDone\"] = \"active\";\r\n        this.setState({ elements: tempElem });\r\n        tempElem = tempElem.filter(o => !o._title); //remove titles\r\n        this.setState({ allElements: tempElem }); // save updates\r\n\r\n    }\r\n    cancel(){\r\n        if(!this.props.edit || this.props.edit.msbEntery[0].status != \"ממתין לאישור\") {return false;};\r\n        this.state.allElements.map((item) => {\r\n            item = JSON.parse(JSON.stringify(item))\r\n            item[\"isDone\"] = false;\r\n            item[\"date\"] = \"\";\r\n            item[\"msbId\"] = -1;\r\n            return item;\r\n          }).map((item)=> this.props.update_bill(item));\r\n          this.context.close(\"עדכון מסב\");\r\n    }\r\n    submit() {\r\n        this.state.allElements.filter((item) => item.isDone === \"notactive\" || item.isDone === false).map((item) => {\r\n            item = JSON.parse(JSON.stringify(item))\r\n            item[\"seccess\"] = false;\r\n            item[\"reason\"] = this.state.reason[item.transaId]\r\n            return item;\r\n        }).map((item) => {this.props.update_payment(item); return item;}).map((item) => item.payed).reduce((a, b) => a + b, 0);\r\n\r\n        const sum = this.state.allElements.filter((item) => item.isDone === \"active\" || item.isDone === true).map((item) => {\r\n            item = JSON.parse(JSON.stringify(item))\r\n            item[\"seccess\"] = true;\r\n            return item;\r\n        }).map((item) => {this.props.update_payment(item); return item;}).map((item) => item.payed).reduce((a, b) => a + b, 0);\r\n\r\n        let msb = JSON.parse(JSON.stringify(this.props.edit.msbEntery[0]));\r\n        msb.status = \"דווח בהצלחה\";\r\n        msb[\"total\"] = sum;\r\n        msb.updateTime = (new Date()).getTime();\r\n        this.props.update_msb(msb);\r\n        this.context.close(\"עדכון מסב\");\r\n    }\r\n    editReason(e,transaId) {\r\n        let temp = this.state.reason;\r\n        temp[transaId] = e.target.value;\r\n        this.setState({ reason: temp });\r\n    }\r\nrender() {\r\n    const items = []\r\n    for (const [index, value] of this.state.elements.entries()) {\r\n        items.push(<RowTable reasonvalue={this.state.reason} reason={(e,id) => this.editReason(e,id)} selectFilter={() => console.log(\"do something\", this.state.filterKey)} key={value.transaId} toggelActive={() => this.active(value.transaId)} target={value} />)\r\n    }\r\n    return <div className=\"py-8 px-1\">\r\n        <div className=\"my-2 flex justify-between w-full sm:flex-row flex-col\">\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                <div>\r\n                    <div className=\"relative\">\r\n                        <MySelect val={this.state.filterKey} onselect={(k, v) => { this.filterValues(\"status\", v); this.setState({ filterKey: v }) }} />\r\n                        <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                            <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                                <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"></path>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"block relative\"><span className=\"h-full absolute inset-y-0 left-0 flex items-center pl-2\">\r\n                    <svg className=\"h-4 w-4 fill-current text-gray-500\" viewBox=\"0 0 24 24\">\r\n                        <path\r\n                            d=\"M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z\">\r\n                        </path>\r\n                    </svg></span>\r\n                    <input\r\n                        className=\"appearance-none rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b block pl-8 pr-6 py-2 w-full bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\"\r\n                        placeholder=\"Search\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"flex flex-row mb-1 sm:mb-0\">\r\n                <button onClick={()=>this.cancel()}\r\n                    className=\"inline-block py-1 px-8 text-white bg-red-200 hover:bg-indigo-600 rounded shadow\"\r\n                    href=\"#\">קובץ לא נשלח - מחיקה</button>\r\n            </div>\r\n        </div>\r\n        <div className=\"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4\">\r\n            <div className=\"inline-block min-w-full shadow rounded-lg\">\r\n                <table className=\"leading-normal table-fixed w-full relative \">\r\n                    <thead>\r\n                        <tr>\r\n                            <th\r\n                                className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n                                בחירה</th>\r\n                            <HeaderLine identify=\"company\" name=\"שם\" table={() => this} />\r\n                            <HeaderLine identify=\"payed\" name=\"סכום לחיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"FatherBillName\" name=\"נושא חיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"FatherDate\" name=\"תאריך חיוב\" table={() => this} />\r\n                            <HeaderLine identify=\"about\" name=\"פרטים\" table={() => this} />\r\n                            <HeaderLine identify=\"isDone\" name=\"דיווח מצב\" table={() => this} />\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {items}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"px-5 bg-white border-t flex flex-col xs:flex-row items-center xs:justify-between\"><span\r\n                className=\"text-xs xs:text-sm text-gray-900\">מציג {this.state.elements.length} חיובים מתוך {this.state.allElements.length}</span>\r\n            </div>\r\n            <div className=\"flex flex-col items-center\"><button\r\n                onClick={() => this.submit()}\r\n                className=\"inline-block mx-auto my-4 py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\"\r\n                href=\"#\">השלמת רישום במערכת</button></div>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n}\r\nclass RowTable extends React.Component {\r\n    render() {\r\n        return <tr className={(this.props.target._title ? 'group' : '')}>\r\n            <td className=\"px-5 border-b overflow-hidden border-gray-200 text-sm\">\r\n                <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 w-10 h-10\"><label className=\"inline-flex items-center mt-3\">\r\n                        <input onChange={this.props.target._title ? () => this.props.selectFilter() : void (0)} type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" />\r\n                    </label></div>\r\n                    <div className=\"ml-3\">\r\n                        <p className=\"text-gray-900 whitespace-no-wrap\"></p>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <BodyLine value={this.props.target.company} />\r\n            <BodyLine value={this.props.target.payed} />\r\n            <BodyLine value={this.props.target.FatherBillName} />\r\n            <BodyLine value={this.props.target.FatherDate} />\r\n\r\n            <td className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\">{this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"מאושר\" : <input onChange={(e) => { this.props.reason(e,this.props.target.transaId) }} className=\"bg-red-200\" value={(this.props.target.transaId in this.props.reasonvalue) ? this.props.reasonvalue[this.props.target.transaId] : \"סיבת החזרה\"} />}</td>\r\n\r\n            <td onClick={() => this.props.toggelActive()} className=\"px-5 cursor-pointer border-b overflow-hidden border-gray-200 text-sm\"><span\r\n                className=\"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight\"><span\r\n                    className={(this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"bg-green-200 \" : \"bg-red-200 \") + \"absolute inset-0 opacity-50 rounded-full\"} aria-hidden=\"\"></span><span\r\n                        className=\"relative\">{this.props.target.isDone == \"active\" || this.props.target.isDone === true ? \"מאושר\" : \"גביה נכשלה\"}</span></span></td>\r\n        </tr>\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/cog.9640a312.svg\";","exports.CreateMsb = (DATA) =>  {console.log(\"still not connect to fireBase\")}","module.exports = __webpack_public_path__ + \"static/media/shield.0f97fbfa.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloud-tools.3a91a7e6.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport {functionsContext} from '../services/funcContext';\nclass ListDescription extends React.Component {\n  static contextType = functionsContext;\n  render() {\n    return (\n      <div className=\"listBar z-50 tooltip-text flex justify-center p-4 px-3 py-10\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-white shadow-md rounded-lg px-3 py-2 mb-4\">\n            <div className=\"block text-gray-700 text-lg font-semibold py-2 px-2\">\n              רשימת לקוחות\n            </div>\n            <div className=\"flex items-center bg-gray-200 rounded-md\">\n              <div className=\"pl-2\">\n                <svg\n                  className=\"fill-current text-gray-500 w-6 h-6\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    className=\"heroicon-ui\"\n                    d=\"M16.32 14.9l5.39 5.4a1 1 0 0 1-1.42 1.4l-5.38-5.38a8 8 0 1 1 1.41-1.41zM10 16a6 6 0 1 0 0-12 6 6 0 0 0 0 12z\"\n                  ></path>\n                </svg>\n              </div>\n              <input\n                className=\"w-full rounded-md bg-gray-200 text-gray-700 leading-tight focus:outline-none py-2 px-2\"\n                type=\"text\"\n                placeholder=\"חיפוש לקוח\"\n              />\n            </div>\n            <div className=\"py-3 text-sm\">\n            {\n                this.props.data.map((item)=> <button onClick={()=>this.context.link({\"page\":\"דפי חשבון\",\"params\":item[0][0]})} key={item[0][0]} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\n                <span className={\"bg-\"+(((item[0][2])==\"active\")?\"green\":\"red\")+\"-400 h-2 w-2 m-2 rounded-full\"} />\n              <div className=\"flex-grow font-medium px-2\">{item[0][1]}</div>\n                <div className=\"text-sm font-normal text-gray-500 tracking-wide\">\n                {item[1]}\n                </div>\n              </button>)\n              }\n              \n            </div>\n            <div className=\"block bg-gray-200 text-sm text-left py-2 px-3 -mx-3 -mb-2 rounded-b-lg\">\n              <button className=\"hover:text-gray-600 text-gray-500 font-bold py-2 px-4\">\n                עריכה\n              </button>\n              <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\n                סגירה\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ListDescription;\n","import React from \"react\";\nimport ListDescription from \"./list_description\";\n\nclass SummaryRow extends React.Component {\n  render() {\n    return (\n      <tr>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.subject}\n        </td>\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.price} ש\"ח</td>\n        <td className=\"cursor-pointer tooltip overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><span className=\"noselect\">{this.props.data.custemors.length} לקוחות</span>\n          <ListDescription data={this.props.data.custemors}></ListDescription>\n        </td>\n        <td onClick = {()=>this.props.link({\"page\":\"חיוב חדש\",\"params\":{\"opCode\":\"chargeNum\",\"chargeNum\":this.props.data.id}})} className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>עריכה</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default SummaryRow;\n","import React from \"react\";\nimport ListDescription from \"./list_description\";\nimport {functionsContext} from '../services/funcContext';\nclass SummaryRow extends React.Component {\n  static contextType = functionsContext;\n  render() {\n    return (\n      <tr>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {parseFloat(this.props.data.createTime)?new Date((parseFloat(this.props.data.createTime))).toLocaleDateString():this.props.data.createTime}\n        </td>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.total} ש\"ח\n        </td>\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\n          {this.props.data.status}\n        </td>\n        <td className=\"cursor-pointer tooltip overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><span className=\"noselect\">{this.props.data.reports.length} קבלות</span>\n          <ListDescription data={this.props.data.reports}></ListDescription>\n        </td>\n        <td className=\"overflow-hidden cursor-pointer hover:bg-gray-200 w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button onClick={() => this.context.createMsb(this.props.data.id)}>קובץ מס\"ב</button></td>\n        <td onClick={() => this.props.link({\"page\":\"עדכון מסב\",\"params\":this.props.data.id})} className=\"overflow-hidden cursor-pointer hover:bg-gray-200 w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button >עדכון</button></td>\n      </tr>\n    );\n  }\n}\n\nexport default SummaryRow;\n","import React from \"react\";\r\nimport ListDescription from \"./list_description\";\r\n\r\nclass SummaryRow extends React.Component {\r\n  render() {\r\n    return (\r\n      <tr>\r\n        <td className=\"overflow-hidden w-1/6 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.custemore}\r\n        </td>\r\n        <td className=\"w-1/6 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.payed} ש\"ח</td>\r\n        <td className=\"w-1/6 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.reason}</td>\r\n        <td onClick = {()=>this.props.link({\"page\":\"תשלום חדש\",\"params\":this.props.data.id})} className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>תשלום</button></td>\r\n          \r\n      </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SummaryRow;\r\n","import React from \"react\";\r\nimport ListDescription from \"./list_description\";\r\n\r\nclass SummaryRow extends React.Component {\r\n  render() {\r\n    return (\r\n      (!this.props.data.total) ? <tr>\r\n        <td className=\"overflow-hidden w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.subject}\r\n        </td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.payed} ש\"ח</td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {parseFloat(this.props.data.date)?new Date((parseFloat(this.props.data.date))).toLocaleDateString():this.props.data.date} </td>\r\n        <td className=\"w-1/12 px-5 py-3 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"> {this.props.data.status} </td>\r\n\r\n        <td className=\"cursor-pointer hover:bg-gray-200 w-1/12 border-b-2 overflow-hidden border-gray-200 bg-gray-100 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\"><button>עריכה</button></td>\r\n      </tr> :\r\n        <tr className={this.props.data.mode===1?\"bg-blue-300\":this.props.data.mode===-1?\"bg-red-100\":\"bg-blue-100\"}>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {parseFloat(this.props.data.msbTime)?new Date((parseFloat(this.props.data.msbTime))).toLocaleDateString():this.props.data.msbTime}</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.payed} ש\"ח</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n          {this.props.data.status}</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n            קבלה</th>\r\n          <th className=\"overflow-hidden  px-5 py-3 border-b-2 overflow-hidden border-gray-200 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider\">\r\n            עריכה</th>\r\n        </tr>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SummaryRow;\r\n","import React from \"react\";\nimport SummaryRowCharge from \"./summary_row_charge\";\nimport SummaryRowMsbs from \"./summary_row_msbs\";\nimport SummaryRowDebts from \"./summary_row_debt\";\nimport SummaryRowChargeUser from \"./summary_row_user_charge\";\nclass SummrayTable extends React.Component {\n  render() {\n    return (\n      <table className=\"leading-normal table-fixed w-full\">\n        <thead>\n          {\n            (this.props.type == 'charges') ? this.props.arrData.map((x) => <SummaryRowCharge key={x.id} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'msbs') ? this.props.arrData.map((x) => <SummaryRowMsbs key={x.id} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'debts') ? this.props.arrData.map((x) => <SummaryRowDebts key={x.id} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n          {\n            (this.props.type == 'charges_user') ? this.props.arrData.map((x) => <SummaryRowChargeUser key={x.transaId} data={x} link={(x) => this.props.link(x)} />) : null\n          }\n\n        </thead>\n      </table>\n    );\n  }\n}\n\nexport default SummrayTable;\n","import React from \"react\";\nimport SummrayTable from \"./summray_table\";\nimport { functionsContext } from '../services/funcContext';\nclass HomeComponent extends React.Component {\n  static contextType = functionsContext;\n  render() {\n    return (\n      <div className=\"container mx-auto px-4 py-1\">\n        <section className=\"p-4\">\n          <div className=\"flex flex-wrap text-center\">\n            <button\n              onClick={() => this.context.link(\"חיוב חדש\")}\n              className=\"md:w-1/2 py-4 md:px-10 mb-4 md:mb-0 md:border-l hover:bg-blue-100 cursor-pointer\"\n            >\n              <img\n                className=\"mx-auto mb-3\"\n                src={require(\"../placeholders/icons/shield.svg\")}\n                alt=\"חיוב חדש\"\n              />\n              <h3 className=\"text-2xl mb-3 font-heading\">יצירת חיוב חדש</h3>\n              <p className=\"text-gray-500 leading-relaxed\">\n                ניתן לייצר רשימה של פריטים ומחירים העתידים להגבות מהחברים בחודש\n                הקרוב\n              </p>\n            </button>\n            <button\n              onClick={() => this.context.link(\"חבר חדש\")}\n              className=\"md:w-1/2 py-4 md:px-10 mb-4 md:mb-0 hover:bg-blue-100 cursor-pointer\"\n            >\n              <img\n                className=\"mx-auto mb-3\"\n                src={require(\"../placeholders/icons/cloud-tools.svg\")}\n                alt=\"לקוח חדש\"\n              />\n              <h3 className=\"text-2xl mb-3 font-heading\">הוספת חבר חדש</h3>\n              <p className=\"text-gray-500 leading-relaxed\">\n                ניתן להכניס שם של מצטרף חדש לאגודה ולציין את פרטי הוראת הקבע שלו\n                לגביה\n              </p>\n            </button>\n          </div>\n        </section>\n        <section className=\"py-8 px-4\">\n          <div className=\"flex flex-wrap -mx-4\">\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between py-3 px-4 border-b\">\n                  <h3 className=\"text-lg font-heading\">חיובים</h3>\n                  <button\n                    onClick={() => this.context.link(\"יצירת מסב\")}\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    גבייה\n                  </button>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.arrbills} link={(x) => this.context.link(x)} type=\"charges\"></SummrayTable>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between py-3 px-4 border-b\">\n                  <h3 className=\"text-lg font-heading\">קבצי מס\"ב אחרונים</h3>\n                  <button  onClick={()=>this.context.link(\"רשימת מסב\")}\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    כולם\n                  </button>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.msbIndex} link={(x) => this.context.link(x)} type=\"msbs\"></SummrayTable>\n\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between px-4 py-3 border-b\">\n                  <h3 className=\"text-lg font-heading\">חובות</h3>\n                  <span\n\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-red-500 rounded-full hover:bg-red-600 cursor-pointer\"\n                  >\n                    עדכון\n                  </span>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <SummrayTable arrData={this.props.arrdebts} link={(x) => this.context.link(x)} type=\"debts\"></SummrayTable>\n                </div>\n              </div>\n            </div>\n            <div className=\"w-full lg:w-1/2 px-4 mb-4\">\n              <div className=\"h-full border rounded shadow\">\n                <div className=\"flex items-center justify-between px-4 py-3 border-b\">\n                  <h3 className=\"text-lg font-heading\">דפי חשבון</h3>\n                  <button\n                    onClick={() => this.context.link(\"רשימת לקוחות\")}\n                    className=\"py-1 px-3 text-sm text-white font-semibold bg-green-500 rounded-full hover:bg-green-600 cursor-pointer\"\n                  >\n                    רשימת לקוחות\n                  </button>\n                </div>\n                <div className=\"flex flex-col p-4\">\n                  <h3 className=\"text-3xl mb-3 font-heading font-semibold\">\n                    30\n                  </h3>\n                  <span>סה\"כ חברים</span>\n                  <span className=\"text-green-500\" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default HomeComponent;\n","\r\nimport React from \"react\";\r\nexport default class Settings extends React.Component {\r\n    render() {\r\n        return (        \r\n        \r\n        <div className=\"container mx-auto px-4 py-10\">\r\n            <section className=\"border-b-2 pb-8\">\r\n                <div className=\"flex flex-wrap -mx-4\">\r\n                    <div className=\"lg:w-2/5 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-3xl\">הגדרות</h2>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section className=\"py-8 px-4 \">\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8\">\r\n                    <div className=\"w-full flex flex-wrap\">\r\n                        <div className=\"w-full md:w-1/2 px-2 mb-6 \">\r\n                            <h2 className=\"text-2xl\">מספר מוסד</h2>\r\n                            <h2 className=\"text-1xl text-gray-500\">המספר המזהה של המוסד מקבל התשלומים במערכת מס\"ב</h2>\r\n                        </div>\r\n                        <div className=\"w-full md:w-1/2 px-2 text-center \">\r\n                            <input className=\"rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b sm:pl-8 sm:pr-8 py-4 w-3/5 bg-white sm:text-1xl placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"מספר מוסד בן 5 ספרות\" defaultValue={12345}  />\r\n                            <h2 className=\"sm:inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה\r\n          </h2>\r\n                            <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                                שמירה</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-full flex flex-wrap\">\r\n                        <div className=\"w-full md:w-1/2 px-2 mb-6 mt-4\">\r\n                            <h2 className=\"text-2xl\">שם מוסד</h2>\r\n                            <h2 className=\"text-1xl text-gray-500\">שם המוסד שיופיע בקבלות</h2>\r\n                        </div>\r\n                        <div className=\"w-full md:w-1/2 px-2 text-center  mt-4\">\r\n                            <input className=\"rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b sm:pl-8 sm:pr-8 py-4 w-3/5 bg-white sm:text-1xl placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"מספר מוסד בן 5 ספרות\" disabled />\r\n                            <h2 className=\"sm:inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה\r\n          </h2>\r\n                            <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                                שמירה</h2>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"w-full flex flex-wrap\">\r\n                        <div className=\"w-full md:w-1/2 px-2 mb-6 mt-4\">\r\n                            <h2 className=\"text-2xl\">מספר מוסד שולח</h2>\r\n                            <h2 className=\"text-1xl text-gray-500\">המוסד שמעביר את קובץ המסב</h2>\r\n                        </div>\r\n                        <div className=\"w-full md:w-1/2 px-2 text-center  mt-4\">\r\n                            <input className=\"rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b sm:pl-8 sm:pr-8 py-4 w-3/5 bg-white sm:text-1xl placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"מספר מוסד בן 5 ספרות\" disabled />\r\n                            <h2 className=\"sm:inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה\r\n          </h2>\r\n                            <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                                שמירה</h2>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8 mt-8\">\r\n                    <div className=\"w-full md:w-1/2 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-2xl\">גיבוי</h2>\r\n                        <h2 className=\"text-1xl text-gray-500\">שמירת כל הנתונים בקובץ הניתן לשחזור בעת הצורך</h2>\r\n                    </div>\r\n                    <div className=\"w-full md:w-1/2 px-2 text-center\">\r\n                        <a className=\"inline-block py-4 px-8 mb-4 sm:mb-0 mr-6 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\" href=\"#\">שמירת גיבוי</a>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex flex-wrap -mx-2 border-b-2 pb-8 mt-8\">\r\n                    <div className=\"w-full md:w-1/2 px-2 lg:pr-16 mb-6 lg:mb-0\">\r\n                        <h2 className=\"text-2xl\">תיקיית קבצים ומידע</h2>\r\n                        <h2 className=\"text-1xl text-gray-500\">היכן התוכנה שומרת את כל המידע הכולל פרטי לקוחות, דפי חשבון,\r\n          הסטוריית חיובים</h2>\r\n                    </div>\r\n                    <div className=\"w-full md:w-1/2 px-2 text-center\">\r\n                        <button className=\"inline-block py-4 px-8 mb-4 sm:mb-0 mr-6 text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\" disabled>C:\\Users\\oriel\\Desktop\\electron-quick-start</button>\r\n                        <h2 className=\"inline text-1xl text-gray-500\" title=\"$(this).next().show();$(this).prev().removeAttr('disabled');$(this).hide()\">עריכה</h2>\r\n                        <h2 className=\"hidden inline text-1xl text-gray-500\" title=\"$(this).prev().show();$(this).prev().prev().attr('disabled','true');$(this).hide()\">\r\n                            שמירה</h2>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>);\r\n    }\r\n}","import React from \"react\";\r\nimport {functionsContext} from '../services/funcContext';\r\nexport default class NewFriend extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      \"id\": \"\",\r\n      \"name\": \"\",\r\n      \"address\": \"\",\r\n      \"isActive\": true,\r\n      \"phone\": \"\",\r\n      \"email\": \"\",\r\n      \"accuntnum\": \"\",\r\n      \"brancenum\": \"\",\r\n      \"banknum\": \"\",\r\n      \"status\": \"active\"\r\n    }\r\n    let id = this.props.edit;\r\n    if(id && 'length' in id && id.length)\r\n      this.state = id[0];\r\n  }\r\n  static contextType = functionsContext;\r\n  changeP(key, e) {\r\n    this.setState({ [key]: e.target.value });\r\n  }\r\n  render() {\r\n    return <div>\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"container mx-auto\">\r\n          <div className=\"flex justify-center px-6\">\r\n            {/* Row*/}\r\n            <div className=\"w-full xl:w-3/4 lg:w-11/12 flex\">\r\n              {/* Col*/}\r\n              <div className=\"w-full h-auto bg-gray-400 hidden lg:block lg:w-5/12 bg-cover rounded-l-lg\" style={{ backgroundImage: 'url(\"https://source.unsplash.com/Mv9hjnEUHR4/600x800\")' }} />\r\n              {/* Col*/}\r\n              <div className=\"w-full lg:w-7/12 bg-white p-5 rounded-lg lg:rounded-l-none\">\r\n                {(this.props.edit && this.props.edit.length>0)?<h3 className=\"pt-4 text-2xl text-center\">עריכת לקוח קיים</h3>:<h3 className=\"pt-4 text-2xl text-center\">יצירת לקוח חדש</h3>}\r\n                  <div className=\"mb-4 md:flex md:justify-between\">\r\n                    <div className=\"mb-4 md:mr-2 md:mb-0\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"firstName\">שם העסק</label>\r\n                      <input value={this.state.name} onChange={(e)=>this.changeP(\"name\",e)} className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"firstName\" type=\"text\" placeholder=\"First Name\" />\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"lastName\">מספר ח.פ.</label>\r\n                <input disabled={(this.props.edit && this.props.edit.length>0)?\"disabled\" : \"\"} value={this.state.id} onChange={(e)=>this.changeP(\"id\",e)} className=\"w-full px-3 py-2 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"lastName\" type=\"text\" placeholder=\"Last Name\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"email\">Email</label>\r\n                    <input value={this.state.email} onChange={(e)=>this.changeP(\"email\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"email\r\n                    \" type=\"email\" placeholder=\"Email\" />\r\n                  </div>\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"email\">כתובת</label>\r\n                    <input  value={this.state.address} onChange={(e)=>this.changeP(\"address\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"email1\" type=\"email2\" placeholder=\"Email\" />\r\n                  </div>\r\n                  <div className=\"mb-4 md:flex md:justify-between\">\r\n                    <div className=\"mb-4 md:mr-2 md:mb-0\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"password\">מספר חשבון</label>\r\n                      <input value={this.state.accuntnum} onChange={(e)=>this.changeP(\"accuntnum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border border-red-500 rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"password\" type=\"text\" />\r\n                      <p className=\"text-xs italic text-red-500\">פרטי חשבון</p>\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"c_password\">מספר סניף</label>\r\n                      <input value={this.state.brancenum} onChange={(e)=>this.changeP(\"brancenum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"c_password\" type=\"text\" />\r\n                    </div>\r\n                    <div className=\"md:ml-2\">\r\n                      <label className=\"block mb-2 text-sm font-bold text-gray-700\" htmlFor=\"c_password\">מספר בנק</label>\r\n                      <input value={this.state.banknum} onChange={(e)=>this.changeP(\"banknum\",e)} className=\"w-full px-3 py-2 mb-3 text-sm leading-tight text-gray-700 border rounded shadow appearance-none focus:outline-none focus:shadow-outline\" id=\"c_password\" type=\"text\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mb-6 text-center\">\r\n                    <button onClick={() => this.props.update_custemores(this.state)?this.context.close(\"חבר חדש\"):console.log(\"בעיה\")} className=\"w-full px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 focus:outline-none focus:shadow-outline\" type=\"button\">יצירת לקוח</button>\r\n                  </div>\r\n                  <hr className=\"mb-6 border-t\" />\r\n                  <div className=\"text-center\"><button className=\"inline-block text-sm text-blue-500 align-baseline hover:text-blue-800\" onClick={() => this.context.link(\"חברים מאקסל\")}>אפשר להעביר מספר לקוחות דרך excel</button></div>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  }\r\n}","import React from \"react\";\r\nimport SummrayTable from \"./summray_table\";\r\nimport { functionsContext } from '../services/funcContext';\r\nimport editSvg from \"../placeholders/icons/zondicons/edit-pencil.svg\"\r\nimport shtrodelSvg from \"../placeholders/icons/zondicons/at-symbol.svg\"\r\nimport printer from \"../placeholders/icons/zondicons/printer.svg\"\r\nimport creditcard from \"../placeholders/icons/zondicons/credit-card.svg\"\r\nimport documentadd from \"../placeholders/icons/zondicons/document-add.svg\"\r\nimport face from \"../placeholders/icons/zondicons/user-solid-square.svg\"\r\nclass AccountsPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let us = (props.edit > 0) ? props.edit : 12345\r\n    this.state = {\r\n      user: us\r\n      , explain: <div></div>\r\n    };\r\n  }\r\n\r\n  static contextType = functionsContext;\r\n  groupBy(xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n      (rv[x[key]] = rv[x[key]] || []).push(x);\r\n      return rv;\r\n    }, {});\r\n  };\r\n  render() {\r\n    let Table = []\r\n    console.log(this.props)\r\n    //const groupMsb = this.groupBy(this.props.arrbilled.filter((item) => item.custemorId == this.state.user && item.msbId > 0), \"msbId\")\r\n    for (const item of this.props.arrpayments) {\r\n      if(String(item.custemorId) !== String(this.state.user)) continue;\r\n      let msb = this.props.msbIndex.filter((x) => x.id == item.msbId)\r\n      msb = (msb.length) ? msb[0] : { \"status\": item.method, \"createTime\": item.date }\r\n\r\n      Table.push({\r\n        \"transaId\": (msb.id)?msb.id:item.transaId,\r\n        \"msbTime\": (msb.updateTime && msb.updateTime!==\"\") ? msb.updateTime : msb.createTime,\r\n        \"payed\": item.payed,\r\n        \"status\": (msb.status == \"דווח בהצלחה\" && item.seccess) ? \"מאושר\" : (msb.status == \"ממתין לאישור\") ? msb.status : (item.seccess) ? msb.status : (item.reason !== \"\")? item.reason : \"נכשל\",\r\n        \"total\": true,\r\n        \"mode\" : (msb.status == \"דווח בהצלחה\" && item.seccess) ? 1 : (msb.status == \"ממתין לאישור\") ? 0 : (item.seccess) ? 1 : -1\r\n      })\r\n    }\r\n\r\n    const TableCharge = this.props.arrbilled.filter((item) => item.custemorId == this.state.user).map((item) => {\r\n      //let isDebt = !item.debtTime && item.payed == 0;\r\n      //let isDebt = item.isDone == \"notactive\" && item.payed == 0;\r\n      //let debt = (isDebt && this.props.arrbilled.filter((debt) => item.paidway == debt.transaId).length) ? this.props.arrbilled.filter((debt) => item.paidway == debt.transaId)[0].payed : 0;\r\n      //let status = (isDebt) ? \"גביה נכשלה\" : (item.msbId > 0) ? this.props.msbIndex.filter((msb) => msb.id == item.msbId)[0].status : \"ממתין לגביה\";\r\n      //let msbTime = (item.msbId > 0) ? this.props.msbIndex.filter((msb) => msb.id == item.msbId)[0].createTime : \"ממתין לגביה\";\r\n      let updateBill = this.props.arrbills.filter((x)=>x.id==item.FatherBillId)[0]\r\n      return {\r\n        \"transaId\": item.transaId,\r\n        \"subject\": (item.FatherBillName)?item.FatherBillName:updateBill[\"subject\"],\r\n        \"date\": (item.FatherDate) ? item.FatherDate :updateBill[\"date\"],\r\n        \"status\": (item.isDone)?\"סופי\":\"טיוטא\",\r\n        \"payed\": item.payed,\r\n        \"total\": false,\r\n        \"msbTime\": (item.FatherDate) ? item.FatherDate :updateBill[\"date\"]\r\n      }\r\n    })\r\n\r\n    Table = Table.concat(TableCharge)\r\n    Table = Table.sort(function (a, b) { if (typeof (b.msbTime) == \"string\") return 1; if (typeof (a.msbTime) == \"string\") return -1; return b.msbTime - a.msbTime });\r\n    /*    {\"subject\",\"date\",\"status\",\"payed\"}\r\n    {\"date\",\"status\",\"payed\"}\r\n    */\r\n    const debt = this.props.arrbilled.filter((item) => item.custemorId == this.state.user\r\n    ).reduce(function (sum, pay) {\r\n      return sum + pay.payed;\r\n    }, 0)\r\n    const pay = this.props.arrpayments.filter((item) =>\r\n      item.custemorId == this.state.user &&\r\n      item.seccess == true\r\n    ).reduce(function (sum, pay) {\r\n      return sum + pay.payed;\r\n    }, 0);\r\n    return (<div className=\"font-sans antialiased h-screen flex container mx-auto px-4 \">\r\n\r\n      <div style={{ overflowX: 'hidden' }} className=\"h-screen overflow-y-scroll bg-blue-400 text-purple-lighter flex-none w-80 pb-6 hidden md:block\">\r\n        <div className=\"text-white mb-2 mt-3 px-4 flex justify-between\">\r\n          <div className=\"flex-auto\">\r\n            <h1 className=\"font-semibold text-xl leading-tight mb-1 truncate\">דפי חשבון</h1>\r\n            <a href=\"index.html\">חזרה</a>\r\n            <div className=\"flex items-center mb-6 mt-6\">\r\n              <div className=\"ml-auto hidden md:block\">\r\n                <div className=\"relative\">\r\n                  <input type=\"search\" placeholder=\"Search\" className=\"appearance-none border text-black border-grey rounded-lg pl-8 pr-4 py-2\" />\r\n                  <div className=\"absolute left-0 top-0 pl-4 pt-3\">\r\n                    <svg className=\"text-grey h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                      <path d=\"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z\" />\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <svg className=\"h-6 w-6 fill-current text-white opacity-25\" viewBox=\"0 0 20 20\">\r\n              <path d=\"M14 8a4 4 0 1 0-8 0v7h8V8zM8.027 2.332A6.003 6.003 0 0 0 4 8v6l-3 2v1h18v-1l-3-2V8a6.003 6.003 0 0 0-4.027-5.668 2 2 0 1 0-3.945 0zM12 18a2 2 0 1 1-4 0h4z\" fillRule=\"evenodd\" />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-8\">\r\n          <div className=\"px-4 mb-2 text-white flex justify-between items-center\">\r\n            <div>נצפו לאחרונה</div>\r\n            <div>\r\n              <svg className=\"fill-current h-4 w-4 opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center mb-3 px-4\">\r\n            <span className=\"bg-green rounded-full block w-2 h-2 mr-2\" />\r\n            <span className=\"text-white\">Adam Wathan <span className=\"text-grey text-sm\">(you)</span></span>\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-8\">\r\n          <div className=\"px-4 mb-2 text-white flex justify-between items-center\">\r\n            <div>שאר הלקוחות</div>\r\n            <button className=\"cursor-pointer\" onClick={() => this.context.link(\"חבר חדש\")} >\r\n              <svg className=\"fill-current h-4 w-4 opacity-50\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M11 9h4v2h-4v4H9v-4H5V9h4V5h2v4zm-1 11a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          {this.props.arrCustemores.map((client) => {\r\n            return (\r\n              <button onClick={() => this.setState({ user: client.id })} key={client.id} className=\"flex items-center mb-3 px-4\">\r\n                <span className=\"bg-green rounded-full block w-2 h-2 mr-2\" />\r\n                <img alt=\"face\" src={face} />\r\n                <span className=\"text-white \">\r\n                  {client.name}\r\n                </span>\r\n              </button>)\r\n          })}\r\n        </div>\r\n        <div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex-1 flex flex-col bg-white overflow-hidden\">\r\n\r\n        <div onMouseOut={() => this.setState({ explain: null })} className=\"border-b flex bg-blue-200 px-6 py-2 items-center flex-none\">\r\n          <div className=\"flex flex-col w-2/6 justify-between\">\r\n            <h3 className=\"text-grey-darkest mb-1 font-extrabold\">\r\n              {this.props.arrCustemores.filter((x) => x.id == this.state.user)[0].name}</h3>\r\n            <div className=\"text-grey-dark text-sm truncate\">\r\n              04-55733461 {this.props.arrCustemores.filter((x) => x.id == this.state.user)[0].email}\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <button onClick={() => this.context.link({ \"page\": \"חיוב חדש\", \"params\": { \"opCode\": \"clientNum\", \"clientNum\": Number(this.state.user) } })} className=\"flex flex-col w-1/8 justify-between mr-2\">\r\n\r\n              <img alt=\"חיוב חדש\" onMouseOver={() => this.setState({\r\n                explain: <div className=\"text-grey-dark text-sm truncate\">\r\n                  הוספת חיוב חדש\r\n                </div>\r\n              })} src={documentadd} title=\"חיוב חדש\"></img>\r\n\r\n\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n          <button onClick={() => this.context.link({ \"page\": \"תשלום חדש\", \"params\": { \"opCode\": \"clientNum\", \"clientNum\": Number(this.state.user) } })} className=\"flex flex-col w-1/8 justify-between mr-2\">\r\n            <img alt=\"דיווח תשלום\" onMouseOver={() => this.setState({\r\n              explain: <div className=\"text-grey-dark text-sm truncate\">\r\n                דיווח תשלום על תשלום שהתבצע לא בה\"ק\r\n                </div>\r\n            })} src={creditcard} title=\"דיווח תשלום\"></img>\r\n            </button>\r\n          </div>\r\n          <button onClick={() => this.context.link({ \"page\": \"חבר חדש\", \"params\": this.state.user })} className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <img alt=\"עריכת פרטים\" onMouseOver={() => this.setState({\r\n              explain: <div className=\"text-grey-dark text-sm truncate\">\r\n                שינוי שם, פרטי חשבון וכו\r\n                </div>\r\n            })} src={editSvg} title=\"עריכת פרטי חבר\"></img>\r\n\r\n\r\n          </button>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <img alt=\"שליחת מייל\" onMouseOver={() => this.setState({\r\n              explain: <div className=\"text-grey-dark text-sm truncate\">\r\n                שלח פירוט חשבון למייל הלקוח\r\n                </div>\r\n            })} src={shtrodelSvg} title=\"שלח פירוט חשבון למייל\" />\r\n          </div>\r\n          <div className=\"flex flex-col w-1/6 justify-between mr-2\">\r\n            <img alt=\"הדפסה\" onMouseOver={() => this.setState({\r\n              explain: <div className=\"text-grey-dark text-sm truncate\">\r\n                הדפסת פירוט חשבון\r\n                </div>\r\n            })} src={printer} title=\"הדפסת דף חשבון\" />\r\n          </div>\r\n\r\n        </div>\r\n        <div className=\"bg-blue-300 block\">\r\n          {this.state.explain}\r\n        </div>\r\n        <div className=\"border-b flex bg-gray-200 px-6 py-2 items-center flex-none\">\r\n          <div className=\"flex w-full\">\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              חוב:\r\n              {\" \" + (debt - pay) + \" \"} ש\"ח\r\n            </div>\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              סה\"כ חיובים:\r\n              {\" \" + debt\r\n              }\r\n              ש\"ח\r\n                </div>\r\n            <div className=\"text-grey-dark w-1/3 text-sm truncate\">\r\n              סה\"כ תשלומים:\r\n              {\" \" + pay}\r\n               ש\"ח\r\n                </div>\r\n          </div>\r\n        </div>\r\n        {/* Chat messages */}\r\n        <div className=\"px-6 py-4 flex-1 overflow-y-scroll\">\r\n          {/*this.props.arrbilled.map((billed) => JSON.stringify(billed))*/}\r\n          {/*this.props.msbIndex.filter((msb)=>msb.id==item.msbId)[0]*/}\r\n\r\n          <SummrayTable arrData={Table} link={(x) => this.context.link(x)} type=\"charges_user\"></SummrayTable>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nexport default AccountsPage;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport closesolid from '../placeholders/icons/close.svg'\r\nclass Tab extends React.Component {\r\n    static propTypes = {\r\n        activeTab: PropTypes.string.isRequired,\r\n        label: PropTypes.string.isRequired,\r\n        onClick: PropTypes.func.isRequired,\r\n    };\r\n\r\n    onClick = () => {\r\n        const { label, onClick } = this.props;\r\n        onClick(label);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            onClick,\r\n            props: {\r\n                activeTab,\r\n                label\r\n            },\r\n        } = this;\r\n\r\n        let className = 'bg-white inline-block py-2 px-4 text-blue-500 hover:text-blue-800 font-semibold';\r\n        if (activeTab === label) {\r\n            className = 'bg-white inline-block border-t rounded-tr py-2 px-4 md:px-16 lg:px-32 text-blue-700 font-semibold';\r\n        }\r\n\r\n        return (\r\n            <><button\r\n                className={className}\r\n                onClick={onClick}\r\n            >\r\n                {label}\r\n            </button>\r\n                <button className={\"bg-gradient-to-l from-white rounded-tl border-t \" + ((label == \"ראשי\") ? \"px-2\" : \"hover:bg-red-200\")} onClick={() => { this.props.closeFunc(this.props.label) }}>\r\n                {(label == \"ראשי\")?null:<img src={closesolid} alt=\"close\" style={{\"width\": \"17px\"}} />}\r\n                </button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Tab;","import React from \"react\";\r\nimport Tab from './Tab';\r\n\r\nimport {functionsContext} from '../services/funcContext';\r\n\r\nclass Tabs extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activeTab: \"ראשי\",\r\n            sons: {}\r\n        };\r\n    }\r\n    static contextType = functionsContext;\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (Object.keys(nextProps.sons).length !== Object.keys(prevState.sons).length) {\r\n            if (Object.keys(nextProps.sons).length > Object.keys(prevState.sons).length) {\r\n                const diff = Object.keys(nextProps.sons).filter(x => !Object.keys(prevState.sons).includes(x));\r\n                return {\r\n                   sons:JSON.parse(JSON.stringify(nextProps.sons)),\r\n                    activeTab: diff[0]\r\n                };\r\n            }\r\n            else{\r\n                const diff = Object.keys(nextProps.sons).filter(x => Object.keys(prevState.sons).includes(x));\r\n                return {\r\n                    sons:JSON.parse(JSON.stringify(nextProps.sons)),\r\n                    activeTab: diff[diff.length-1]\r\n                };\r\n            }\r\n        }\r\n        return {sons:JSON.parse(JSON.stringify(nextProps.sons))};\r\n    }\r\n\r\n    onClickTabItem = (tab) => {\r\n        this.setState({ activeTab: tab });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            onClickTabItem,\r\n            state: {\r\n                activeTab,\r\n            }\r\n        } = this;\r\n\r\n        return (\r\n            \r\n            <div className=\"tabs\">\r\n                <div>\r\n                    <ol className=\"flex overflow-x-auto\">\r\n                        {Object.keys(this.props.sons).map((child) => {\r\n                            const label = child;\r\n                            return (\r\n                                <Tab\r\n                                    closeFunc = {(x)=>this.context.close(x)}\r\n                                    activeTab={activeTab}\r\n                                    key={label}\r\n                                    label={label}\r\n                                    onClick={onClickTabItem}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </ol>\r\n                </div>\r\n                <div className=\"tab-content bg-white opacity-80\">\r\n                    {this.props.render(this.state)}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Tabs;","import React from \"react\";\r\nimport {functionsContext} from '../services/funcContext';\r\nexport default class Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: Math.round(Math.random()*100000), //must create bettter select\r\n      subject: \"\",\r\n      date: new Date(Date.now()).toLocaleDateString(),\r\n      price: \"\",\r\n      notes: \"\",\r\n      bannedCustemors: [],\r\n      custemors: [],\r\n      filtor: \"\"\r\n    };\r\n    let id = this.props.edit;\r\n    if(typeof(id)== \"object\" && id && !('length' in id) && id.selected){\r\n      const oldValue = id.selected;\r\n      this.state[\"id\"] = oldValue.id;\r\n      this.state[\"notes\"] = oldValue.notes;\r\n      this.state[\"date\"] = oldValue.date;\r\n      this.state[\"price\"] = oldValue.price;\r\n      this.state[\"subject\"] = oldValue.subject;\r\n      this.state[\"custemors\"] = JSON.parse(JSON.stringify(oldValue.custemors)).filter((item)=>!id.removes.includes(item));\r\n      this.state[\"bannedCustemors\"] = id.removes\r\n    }\r\n\r\n    if(typeof(id)==\"number\"){\r\n      this.state[\"custemors\"] = [Number(id)];\r\n    }\r\n  }\r\n  static contextType = functionsContext;\r\n  submit() {\r\n    const s = this.state;\r\n    this.props.update_charge({\r\n      id: s.id,\r\n      subject: s.subject,\r\n      date: String(Date.parse(s.date.replaceAll(\".\",\"/\").replace(/([0-9]+)\\/([0-9]+)/,'$2/$1'))),\r\n      price: Number(s.price),\r\n      notes: s.notes\r\n    });\r\n    //need find stiil selected, and remove canceled.\r\n    let forAdd = s.custemors;\r\n    let forRemove = []\r\n    const id = this.props.edit;\r\n    if(typeof(id)== \"object\" && id && !('length' in id) && id.selected){\r\n      forAdd = s.custemors.filter((el)=> {\r\n        return !this.props.edit.selected.custemors.includes( el );\r\n      } );\r\n      forRemove = this.props.edit.selected.custemors.filter((item)=>!id.removes.includes(item)).filter( (el)=> {\r\n        return !s.custemors.includes( el );\r\n      } );\r\n    }\r\n    forRemove.map((id)=>this.props.remove_bill({\"transaId\":s.id+\"-\"+id+\"*1\"}));\r\n    forAdd.map((id)=>this.props.update_bill(\r\n      {\"transaId\": s.id+\"-\"+id+\"*1\", // optional for take many piceses\r\n      \"FatherBillId\": s.id,\r\n      \"msbId\": -1,\r\n      \"custemorId\": id,\r\n      \"payed\": Number(s.price), // must not effect on this feild - only on msb creat\r\n      \"isDone\": false,\r\n      \"paidway\": \"\",\r\n      \"reason\": \"\",\r\n      \"date\": \"\"\r\n      }))\r\n      return true;\r\n  }\r\n  changeP(key, e) {\r\n    this.setState({ [key]: e.target.value });\r\n  }\r\n\r\n  select(x) {\r\n    if (typeof (x) == \"number\") x = [x];\r\n    const xAfterFilter = x.filter((num)=>!this.state.bannedCustemors.includes(num))\r\n    if(!xAfterFilter.length) return;\r\n    this.setState((state, props) => ({ custemors: state.custemors.concat(xAfterFilter) }))\r\n  }\r\n  remove(x) {\r\n    this.setState((state, props) => ({ custemors: state.custemors.filter((item) => item != x) }))\r\n\r\n  }\r\n  render() {\r\n    return (<div className=\"container mx-auto px-4\">\r\n      <section className=\"py-12 px-4\">\r\n        <h2 className=\"text-3xl mb-8 text-center font-heading\">יצירת חיוב חדש</h2>\r\n        <div className=\"w-full max-w-2xl mx-auto mb-12\">\r\n          \r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.subject} onChange={(e) => this.changeP(\"subject\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"כותרת\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.price} onChange={(e) => this.changeP(\"price\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"סכום בש'ח\" />\r\n                {/*select class=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\">\r\n                  <option>-- Select product --</option>\r\n                  <option>Product 1</option>\r\n                  <option>Product 2</option>\r\n                  <option>Product 3</option>\r\n                </select*/}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.date} onChange={(e) => this.changeP(\"date\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"תאריך\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.notes} onChange={(e) => this.changeP(\"notes\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"הערות\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <section className=\"w-full text-center mb-4\">\r\n\r\n                <input onChange={(e) => this.setState({ filtor: e.target.value })} className=\"w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"חיפוש לקוחות\" />\r\n                <button onClick={() => this.select(this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map(x => x.id))} className=\"md-w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm text-white bg-indigo-500 hover:bg-indigo-600\">בחירה\r\n                    ({this.props.arrCustemores.filter((x) => x.name.includes(this.state.filtor)).length})</button>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"text-center flex flex-wrap justify-around block\">\r\n\r\n\r\n                  {this.props.arrCustemores.filter((x) => this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.remove(client.id)} key={client.id} className=\"relative w-full xl:w-1/3 py-2 px-10 my-1 mb-0 hover:bg-blue-100 cursor-pointer border-gray-200 bg-gray-100 border-b-2 border-l-2\">\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\"><input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" defaultChecked /></div>\r\n                      <p>{client.name}</p>\r\n                    </button>)}\r\n                </div>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"flex flex-wrap text-center\">\r\n                  {this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.select(client.id)} key={client.id} className={\"relative w-full xl:w-5/12 py-2 px-10 m-1 mb-0 cursor-pointer border-gray-200 border-b-2 \" + (this.state[\"bannedCustemors\"].includes(client.id)? \"bg-red-100\" : \"hover:bg-blue-100\" )}>\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\" />\r\n                      <p>\r\n                        {client.name}\r\n                        {(this.state[\"bannedCustemors\"].includes(client.id))?\" (נשלח למסב)\":null}\r\n                      </p>\r\n                    </button>)}\r\n\r\n                </div>\r\n              </section>\r\n            </div>\r\n            <div>\r\n              <button onClick={() => this.submit()?this.context.close(\"חיוב חדש\"):console.log(\"בעיה\")} className=\"inline-block w-full py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\">יצירת חיוב</button>\r\n            </div>\r\n          \r\n        </div>\r\n        {/*div class=\"flex flex-col lg:flex-row lg:justify-center -mx-4\">\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/home.svg\" alt=\"\"><span>1725\r\n            Slough Avenue, Scranton</span></div>\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/mobile.svg\"\r\n            alt=\"\"><span>555-111-555</span></div>\r\n        <div class=\"px-4\"> <img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/message.svg\"\r\n            alt=\"\"><span>scranton@dundermifflin.com</span></div>\r\n      </div*/}\r\n      </section>\r\n    </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nimport {functionsContext} from '../services/funcContext';\r\nexport default class Index extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      id: Math.round(Math.random()*100000), //must create bettter select\r\n      subject: \"\",\r\n      date: new Date(Date.now()).toLocaleDateString(),\r\n      price: \"\",\r\n      notes: \"\",\r\n      bannedCustemors: [],\r\n      custemors: [],\r\n      filtor: \"\"\r\n    };\r\n    let id = this.props.edit;\r\n    if(typeof(id)== \"object\" && id && !('length' in id) && id.selected){\r\n      const oldValue = id.selected;\r\n      this.state[\"id\"] = oldValue.id;\r\n      this.state[\"notes\"] = oldValue.notes;\r\n      this.state[\"date\"] = oldValue.date;\r\n      this.state[\"price\"] = oldValue.price;\r\n      this.state[\"subject\"] = oldValue.subject;\r\n      this.state[\"custemors\"] = JSON.parse(JSON.stringify(oldValue.custemors)).filter((item)=>!id.removes.includes(item));\r\n      this.state[\"bannedCustemors\"] = id.removes\r\n    }\r\n\r\n    if(typeof(id)==\"number\"){\r\n      this.state[\"custemors\"] = [Number(id)];\r\n    }\r\n  }\r\n  static contextType = functionsContext;\r\n  submit() {\r\n    const s = this.state;\r\n    //need find stiil selected, and remove canceled.\r\n    let forAdd = s.custemors;\r\n    let forRemove = []\r\n    const id = this.props.edit;\r\n    if(typeof(id)== \"object\" && id && !('length' in id) && id.selected){\r\n      forAdd = s.custemors.filter((el)=> {\r\n        return !this.props.edit.selected.custemors.includes( el );\r\n      } );\r\n      forRemove = this.props.edit.selected.custemors.filter((item)=>!id.removes.includes(item)).filter( (el)=> {\r\n        return !s.custemors.includes( el );\r\n      } );\r\n    }\r\n    //forRemove.map((id)=>this.props.remove_bill({\"transaId\":s.id+\"-\"+id+\"*1\"}));\r\n    forAdd.map((id)=>this.props.update_payment(\r\n        {\r\n            \"transaId\":s.id+\"-\"+id+\"*1\",\r\n            \"msbId\": -1,\r\n            \"custemorId\": id,\r\n            \"payed\": Number(s.price),\r\n            \"method\" : s.subject,\r\n            \"seccess\": true,\r\n            \"reason\" : s.notes,\r\n            \"date\": String(Date.parse(s.date.replaceAll(\".\",\"/\").replace(/([0-9]+)\\/([0-9]+)/,'$2/$1'))),\r\n            \"isDone\": true,\r\n            }\r\n      ))\r\n      return true;\r\n  }\r\n  changeP(key, e) {\r\n    this.setState({ [key]: e.target.value });\r\n  }\r\n\r\n  select(x) {\r\n    if (typeof (x) == \"number\") x = [x];\r\n    const xAfterFilter = x.filter((num)=>!this.state.bannedCustemors.includes(num))\r\n    if(!xAfterFilter.length) return;\r\n    this.setState((state, props) => ({ custemors: state.custemors.concat(xAfterFilter) }))\r\n  }\r\n  remove(x) {\r\n    this.setState((state, props) => ({ custemors: state.custemors.filter((item) => item != x) }))\r\n\r\n  }\r\n  render() {\r\n    return (<div className=\"container mx-auto px-4\">\r\n      <section className=\"py-12 px-4\">\r\n        <h2 className=\"text-3xl mb-8 text-center font-heading\">תשלום חדש</h2>\r\n        <div className=\"w-full max-w-2xl mx-auto mb-12\">\r\n          \r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.subject} onChange={(e) => this.changeP(\"subject\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"אופן התשלום\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.price} onChange={(e) => this.changeP(\"price\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"סכום בש'ח\" />\r\n                {/*select class=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\">\r\n                  <option>-- Select product --</option>\r\n                  <option>Product 1</option>\r\n                  <option>Product 2</option>\r\n                  <option>Product 3</option>\r\n                </select*/}\r\n              </div>\r\n            </div>\r\n            <div className=\"flex mb-4 -mx-2\">\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.date} onChange={(e) => this.changeP(\"date\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"תאריך\" />\r\n              </div>\r\n              <div className=\"w-1/2 px-2\">\r\n                <input value={this.state.notes} onChange={(e) => this.changeP(\"notes\", e)} className=\"appearance-none block w-full py-3 px-4 leading-tight text-gray-700 bg-gray-200 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none\" type=\"text\" placeholder=\"הערות\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <section className=\"w-full text-center mb-4\">\r\n\r\n                <input onChange={(e) => this.setState({ filtor: e.target.value })} className=\"w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm placeholder-gray-400 text-gray-700 focus:bg-white focus:placeholder-gray-600 focus:text-gray-700 focus:outline-none\" placeholder=\"חיפוש לקוחות\" />\r\n                <button onClick={() => this.select(this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map(x => x.id))} className=\"md-w-1/3 rounded-r rounded-l sm:rounded-l-none border border-gray-400 border-b pl-8 pr-6 py-2 bg-white text-sm text-white bg-indigo-500 hover:bg-indigo-600\">בחירה\r\n                    ({this.props.arrCustemores.filter((x) => x.name.includes(this.state.filtor)).length})</button>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"text-center flex flex-wrap justify-around block\">\r\n\r\n\r\n                  {this.props.arrCustemores.filter((x) => this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.remove(client.id)} key={client.id} className=\"relative w-full xl:w-1/3 py-2 px-10 my-1 mb-0 hover:bg-blue-100 cursor-pointer border-gray-200 bg-gray-100 border-b-2 border-l-2\">\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\"><input type=\"checkbox\" className=\"form-checkbox h-5 w-5 text-red-600\" defaultChecked /></div>\r\n                      <p>{client.name}</p>\r\n                    </button>)}\r\n                </div>\r\n              </section>\r\n              <section className=\"w-full\">\r\n                <div className=\"flex flex-wrap text-center\">\r\n                  {this.props.arrCustemores.filter((x) => !this.state.custemors.includes(x.id) && x.name.includes(this.state.filtor)).map((client) =>\r\n                    <button onClick={() => this.select(client.id)} key={client.id} className={\"relative w-full xl:w-5/12 py-2 px-10 m-1 mb-0 cursor-pointer border-gray-200 border-b-2 \" + (this.state[\"bannedCustemors\"].includes(client.id)? \"bg-red-100\" : \"hover:bg-blue-100\" )}>\r\n                      <div className=\"absolute top-0 right-0 h-5 w-5\" />\r\n                      <p>\r\n                        {client.name}\r\n                        {(this.state[\"bannedCustemors\"].includes(client.id))?\" (נשלח למסב)\":null}\r\n                      </p>\r\n                    </button>)}\r\n\r\n                </div>\r\n              </section>\r\n            </div>\r\n            <div>\r\n              <button onClick={() => this.submit()?this.context.close(\"תשלום חדש\"):console.log(\"בעיה\")} className=\"inline-block w-full py-4 px-8 leading-none text-white bg-indigo-500 hover:bg-indigo-600 rounded shadow\">תשלום</button>\r\n            </div>\r\n          \r\n        </div>\r\n        {/*div class=\"flex flex-col lg:flex-row lg:justify-center -mx-4\">\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/home.svg\" alt=\"\"><span>1725\r\n            Slough Avenue, Scranton</span></div>\r\n        <div class=\"px-4\"><img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/mobile.svg\"\r\n            alt=\"\"><span>555-111-555</span></div>\r\n        <div class=\"px-4\"> <img class=\"inline-block w-8 h-8 pr-2\" src=\"placeholders/icons/message.svg\"\r\n            alt=\"\"><span>scranton@dundermifflin.com</span></div>\r\n      </div*/}\r\n      </section>\r\n    </div>\r\n    );\r\n  }\r\n}","import React from \"react\";\r\nexport default class Search extends React.Component {\r\n    render() {\r\n        const fillrerd = this.props.arrCustemores.filter((item)=>item.name.includes(this.props.searchWord));\r\n        return ( <div className=\"listBar w-64 z-50 tooltip-text flex justify-center p-2 px-3\">\r\n\r\n        <div className=\"w-full max-w-md\">\r\n          <div className=\"bg-white shadow-md rounded-lg px-3 mb-4\">\r\n            <div className=\"py-3 text-sm overflow-y-auto max-h-screen\">\r\n                {fillrerd.map((item)=><button key={item.id} onClick={()=>this.props.link({\"page\":\"דפי חשבון\",\"params\":item.id})} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\r\n                    <span className=\"bg-gray-400 h-2 w-2 m-2 rounded-full\" />\r\n                    <div className=\"flex-grow font-medium px-2\">{item.name}</div>\r\n                    </button>)}\r\n                {fillrerd.length === 0?<button key={0} onClick={()=>this.props.link(\"דפי חשבון\")} className=\"flex justify-start cursor-pointer text-gray-700 hover:text-blue-400 hover:bg-blue-100 rounded-md px-2 py-2 my-2\">\r\n                    <span className=\"bg-gray-400 h-2 w-2 m-2 rounded-full\" />\r\n                    <div className=\"flex-grow font-medium px-2\">אין תוצאות</div>\r\n                    </button>:null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       )\r\n    }\r\n}","import React from \"react\";\r\nimport Home from './home_component'\r\nimport Settings from './settings'\r\nimport NewFriend from './newFriend'\r\nimport NewFriendByXls from './newFriendByXls'\r\nimport FriendsList from './friendsList'\r\nimport Accuonts from './accountsPage'\r\nimport Tabs from './Tabs'\r\nimport NewCharge from './newCharge'\r\nimport NewPay from './newPay'\r\nimport NewMsb from './newMsb'\r\nimport Search from './search'\r\nimport UpdateMsb from './updateMsb'\r\nimport SummrayTable from \"./summray_table\";\r\nimport cog from \"../placeholders/icons/zondicons/cog.svg\"\r\nimport { functionsContext } from '../services/funcContext';\r\n\r\nexport default class Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.myRef = React.createRef();\r\n        this.state = {\r\n            searchWord: \"\",\r\n            pages: { \"ראשי\": \"fff\" },\r\n        };\r\n    }\r\n    groupBy(xs, key) {\r\n        return xs.reduce(function (rv, x) {\r\n            (rv[x[key]] = rv[x[key]] || []).push(x);\r\n            return rv;\r\n        }, {});\r\n    };\r\n\r\n    idToCustemoreName(custemores, id) {\r\n        const res = custemores.filter((custemor) => id == custemor[\"id\"]);\r\n        if (res.length) return [id, res[0][\"name\"], res[0][\"status\"]];\r\n        return id;\r\n    }\r\n\r\n    connectClientsTo1Bill(bill1, billed) {\r\n        if (bill1.length < 0) { console.log(\"problem - selector dont find\"); ParseBill[\"custemors\"] = []; return ParseBill; }\r\n        const ParseBill = JSON.parse(JSON.stringify(bill1[0]));\r\n        const relevantBill = billed.filter((bill) => bill[\"FatherBillId\"] === ParseBill[\"id\"]);\r\n        const afterMsb = relevantBill.filter((item) => item.isDone != false).map((item) => item[\"custemorId\"])\r\n        const jsonGroup = this.groupBy(relevantBill, \"custemorId\"); // maybe take a many items in same item - each item new line at biiled\r\n        let output = []\r\n        for (const index of Object.keys(jsonGroup)) {\r\n            output.push(Number(index));\r\n        }\r\n        ParseBill[\"custemors\"] = output;\r\n\r\n        return { \"selected\": ParseBill, \"removes\": afterMsb };\r\n    }\r\n    createArrDebts(billed, custemores) {\r\n        const ParseBill = JSON.parse(JSON.stringify(billed));\r\n        return ParseBill.filter((item) => \"debtTime\" in item && item.payed > 0).map((item) => {\r\n            item[\"custemore\"] = this.idToCustemoreName(custemores, item.custemorId)[1];\r\n            item[\"status\"] = (item.isDone) ? \"נגבה מחדש\" : (true) ? \"ממתין לגביה\" : \"שיהיה קוד ברור\"\r\n            return item;\r\n        });\r\n    }\r\n    parserBillsClients(bills, billed, custemores) {\r\n        const ParseBill = JSON.parse(JSON.stringify(bills));\r\n        for (var i = 0; i < ParseBill.length; i++) {\r\n            const relevantBill = billed.filter((bill) => bill[\"FatherBillId\"] === ParseBill[i][\"id\"]);\r\n            const jsonGroup = this.groupBy(relevantBill, \"custemorId\"); // maybe take a many items in same item - each item new line at biiled\r\n            let output = []\r\n            for (const index of Object.keys(jsonGroup)) {\r\n                const value = jsonGroup[index];\r\n                const totalTaxes = value.length;\r\n                output.push([this.idToCustemoreName(custemores, index), Number(totalTaxes.toFixed(2))]);\r\n            }\r\n            ParseBill[i][\"custemors\"] = output;\r\n        }\r\n        return ParseBill;\r\n    }\r\n    parserMsbIndex(msbIndex, payments, custemores) {\r\n        const ParseMsb = JSON.parse(JSON.stringify(msbIndex));\r\n        for (var i = 0; i < ParseMsb.length; i++) {\r\n            const relevantBill = payments.filter((bill) => bill[\"msbId\"] === ParseMsb[i][\"id\"]);\r\n            const jsonGroup = this.groupBy(relevantBill, \"custemorId\");\r\n            let output = []\r\n            for (const index of Object.keys(jsonGroup)) {\r\n                const value = jsonGroup[index];\r\n                const totalTaxes = value.reduce(function (sum, pay) {\r\n                    return sum + pay.payed;\r\n                }, 0);\r\n                output.push([this.idToCustemoreName(custemores, index), Number((totalTaxes * 1.0).toFixed(2))]);\r\n            }\r\n            ParseMsb[i][\"reports\"] = output;\r\n        }\r\n        return ParseMsb;\r\n    }\r\n    scrollToRef() { window.scrollTo(0, this.myRef.current.offsetTop) }\r\n    link(linkObj) {\r\n        if (typeof (linkObj) == \"string\") { linkObj = { \"page\": linkObj }; }\r\n        const dic = {\r\n            \"חבר חדש\": () => (linkObj.params) ? this.props.custemores.filter((item) => item.id == linkObj.params) : null,\r\n            \"חברים מאקסל\": () => null,\r\n            \"הגדרות\": () => null,\r\n            \"רשימת מסב\": () => null,\r\n            \"רשימת לקוחות\": () => null,\r\n            \"חיוב חדש\": () => (linkObj.params && linkObj.params.opCode == \"clientNum\") ? linkObj.params.clientNum : (linkObj.params && linkObj.params.opCode == \"chargeNum\") ? this.connectClientsTo1Bill(this.props.bills.filter((item) => item.id == linkObj.params.chargeNum), this.props.billed) : null,\r\n            \"תשלום חדש\": () => (linkObj.params && linkObj.params.opCode == \"clientNum\") ? linkObj.params.clientNum : (linkObj.params && linkObj.params.opCode == \"chargeNum\") ? this.connectClientsTo1Bill(this.props.bills.filter((item) => item.id == linkObj.params.chargeNum), this.props.billed) : null,\r\n            \"דפי חשבון\": () => (linkObj.params) ? linkObj.params : null,\r\n            \"יצירת מסב\": () => null,\r\n            \"עדכון מסב\": () => (linkObj.params) ? { \"billData\": this.getReuqstPay(linkObj.params), \"msbEntery\": this.props.msbIndex.filter((item) => item.id == linkObj.params) } : null\r\n        }\r\n        let tempPages = this.state.pages;\r\n        tempPages[linkObj.page] = dic[linkObj.page]();\r\n        this.setState({ pages: tempPages });\r\n        this.scrollToRef();\r\n    }\r\n    createDoneCharge(bills, billed){\r\n        return billed.filter((item)=>!item.isDone).map((item)=>{\r\n           item = JSON.parse(JSON.stringify(item));\r\n           const Father = bills.filter(x=>x.id==item.FatherBillId)\r\n           if(Father.length === 0) return item;\r\n           item[\"FatherBillName\"] = Father[0].subject;\r\n           item[\"FatherDate\"] = Father[0].date;\r\n           return item;\r\n        })\r\n    }\r\n    getReuqstPay(fillter = 0) {\r\n        // fillter is MsbId for display edit\r\n        const fillterFunc = ((payed) => { return payed.msbId == fillter });\r\n\r\n        return this.props.payments.filter((item) => fillterFunc(item)).map((item) => {\r\n            item[\"company\"] = this.idToCustemoreName(this.props.custemores, item.custemorId)[1] //need valid\r\n            return JSON.parse(JSON.stringify(item));\r\n        });\r\n    }\r\n    clacRestPay() {\r\n        let jsonGroup = this.groupBy(this.props.payments.map((item) => item), \"custemorId\")\r\n        const plus = Object.keys(jsonGroup).map((index) => {\r\n            const value = jsonGroup[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            return { \"custemorId\": index, payed: totalTaxes, \"FatherBillName\": \"זכויות\" }\r\n        })\r\n\r\n        jsonGroup = this.groupBy(this.props.billed.map((item) => item), \"custemorId\");\r\n        const minus = Object.keys(jsonGroup).map((index) => {\r\n            const value = jsonGroup[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            return { \"custemorId\": index, \"payed\": totalTaxes * -1, \"FatherBillName\": \"חובות\" }\r\n        })\r\n        const minusandplus = [...minus, ...plus]\r\n        jsonGroup = this.groupBy(minusandplus,\"custemorId\")\r\n        const total = Object.keys(jsonGroup).map((index) => {\r\n            const value = jsonGroup[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            return { \"custemorId\": index, \"payed\": totalTaxes * -1 }\r\n        })\r\n        return total.map((item) => {\r\n            item[\"company\"] = this.idToCustemoreName(this.props.custemores, item.custemorId)[1] //need valid\r\n            return item;\r\n        });\r\n    }\r\n    debt_new_clac(bill,msb,payment,custemor) {\r\n        const paymentsFilter = (item) => {\r\n            if (item.seccess) return true;\r\n            if (item.method !== \"msb\") return false;\r\n            if (!item.msbId) { console.log(\"msb without msb?\"); return false; };\r\n            if (msb.filter((msb) => msb.id === item.msbId)[0].status === \"דווח בהצלחה\") return false;\r\n            return true;\r\n        };\r\n        const charges = bill;\r\n        let jsonGroup = this.groupBy(payment.filter(paymentsFilter).map((item) => item), \"custemorId\");\r\n        let jsonGroup2 = this.groupBy(charges.map((item) => item), \"custemorId\");\r\n        const total = Object.keys(jsonGroup).map((index) => {\r\n            const value = jsonGroup[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            return { \"client\": index, \"count\": totalTaxes }\r\n        })\r\n        const total2 = Object.keys(jsonGroup2).map((index) => {\r\n            const value = jsonGroup2[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            return { \"client\": index, \"count\": -totalTaxes }\r\n        })\r\n        const jsonGroup3 = this.groupBy([].concat(total, total2), \"client\");\r\n        const t = Object.keys(jsonGroup3).map((index) => {\r\n            const value = jsonGroup3[index];\r\n            const totalTaxes = value.reduce(function (sum, pay) {\r\n                return sum + pay.count;\r\n            }, 0);\r\n            return { \"client\": index, \"count\": -totalTaxes }\r\n        }).filter((item) => item.count > 0).map((item) => {\r\n            item[\"id\"] = item.client;\r\n            item[\"custemore\"] = item[\"company\"] = this.idToCustemoreName(custemor, item.client)[1];\r\n            item[\"payed\"] = item.count;\r\n            return item;\r\n        })\r\n        return t;\r\n    }\r\n    close(page) {\r\n        if (page == \"ראשי\") { console.log(\"לא ניתן לסגור\"); return; }\r\n        let tempPages = this.state.pages;\r\n        delete tempPages[page];\r\n        this.setState({ pages: tempPages });\r\n    }\r\n    render() {\r\n        const dic = {\r\n\r\n            \"ראשי\": (<Home arrdebts={this.debt_new_clac(this.props.billed,this.props.msbIndex,this.props.payments, this.props.custemores)} arrbills={this.parserBillsClients(this.props.bills, this.props.billed, this.props.custemores)} msbIndex={this.parserMsbIndex(this.props.msbIndex,  this.props.payments,  this.props.custemores)}></Home>),\r\n            \"חבר חדש\": <NewFriend clients={this.props.custemores} update_custemores={(data) => this.props.update_custemores(data)} link={(x) => this.link(x)} close={(x) => this.close(x)}></NewFriend>,\r\n            \"חברים מאקסל\": <NewFriendByXls update_custemores={(data) => this.props.update_custemores(data)} arrCustemores={this.props.custemores}></NewFriendByXls>,\r\n            \"הגדרות\": <Settings></Settings>,\r\n            \"רשימת מסב\": <SummrayTable arrData={this.parserMsbIndex(this.props.msbIndex, this.props.payments, this.props.custemores)} link={(x) => this.link(x)} type=\"msbs\"></SummrayTable>,\r\n            \"רשימת לקוחות\": <FriendsList arrCustemores={this.props.custemores}></FriendsList>,\r\n            \"דפי חשבון\": <Accuonts arrbills={this.props.bills} msbIndex={this.props.msbIndex} arrCustemores={this.props.custemores} arrbilled={this.props.billed} arrpayments={this.props.payments}></Accuonts>,\r\n            \"חיוב חדש\": <NewCharge update_charge={(data) => this.props.update_charge(data)} update_bill={(data) => this.props.update_bill(data)} remove_bill={(data) => this.props.remove_bill(data)} arrCustemores={this.props.custemores}></NewCharge>,\r\n            \"תשלום חדש\": <NewPay update_payment={(data) => this.props.update_payment(data)} update_charge={(data) => this.props.update_charge(data)} update_bill={(data) => this.props.update_bill(data)} remove_bill={(data) => this.props.remove_bill(data)} arrCustemores={this.props.custemores}></NewPay>,\r\n            \"יצירת מסב\": <NewMsb update_payment={(data) => this.props.update_payment(data)} arrbills={this.createDoneCharge(this.props.bills, this.props.billed)} update_msb={(data) => this.props.update_msb(data)} update_payment={(data) => this.props.update_payment(data)} update_bill={(data) => this.props.update_bill(data)} arrCustemoreBills={this.debt_new_clac(this.props.billed,this.props.msbIndex,this.props.payments, this.props.custemores)}></NewMsb>,\r\n            \"עדכון מסב\": <UpdateMsb update_msb={(data) => this.props.update_msb(data)} update_payment={(data) => this.props.update_payment(data)} update_bill={(data) => this.props.update_bill(data)} arrCustemoreBills={this.getReuqstPay()}></UpdateMsb>\r\n        }\r\n        return (\r\n\r\n            <div className=\"text-body font-body\">\r\n                <div>\r\n                    <div className=\"w-full h-64\" style={{ marginBottom: '-5%' }}>\r\n                        <div className=\" mx-auto\">\r\n                            <button onClick={() => this.link(\"הגדרות\")} className=\"py-6 px-3 text-sm text-black font-semibold bg-gray-300 rounded-bl-full hover:bg-gray-200 cursor-pointer\">\r\n                                <img src={cog} />\r\n\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"container mx-auto px-3\">\r\n                        <div ref={this.myRef} className=\"relative flex justify-center text-gray-600\">\r\n                            <div className=\"searchFather md:absolute relative left-0 mb-6\">\r\n\r\n                                <input type=\"search\" name=\"serch\" onChange={(e) => this.setState({ searchWord: e.target.value })} placeholder=\"חיפוש דפי חשבון\" autoComplete=\"off\" className=\"search md:w-2 w-64 mx-auto bg-gray-200 h-10 px-5 pr-10 rounded-full text-md border-l-2 border-t-2 focus:outline-none\" />\r\n                                <button type=\"submit\" className=\"absolute right-0 top-0 mt-3 mr-4\" onClick={() => this.link(\"דפי חשבון\")}>\r\n                                    <svg className=\"h-4 w-4 fill-current\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"Capa_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 56.966 56.966\" style={{ enableBackground: 'new 0 0 56.966 56.966' }} xmlSpace=\"preserve\" width=\"512px\" height=\"512px\">\r\n                                        <path d=\"M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z\">\r\n                                        </path>\r\n                                    </svg>\r\n                                </button>\r\n                                <Search arrCustemores={this.props.custemores} searchWord={this.state.searchWord} link={(value) => this.link(value)}></Search>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <functionsContext.Provider value={{ link: (x) => this.link(x), close: (x) => this.close(x), createMsb: (x) => this.props.createMsb(x) }}>\r\n                            <Tabs sons={this.state.pages}\r\n                                render={\r\n                                    (parms) => (\r\n                                        Object.keys(this.state.pages).map((child) =>\r\n                                            <div label={child} key={child} className={(child !== parms.activeTab) ? \"fadeOut\" : \"fadeIn\"} >\r\n                                                {React.cloneElement(\r\n                                                    dic[child],\r\n                                                    { edit: this.state.pages[child] }\r\n                                                )\r\n\r\n                                                }\r\n                                            </div>)\r\n                                    )\r\n                                }\r\n                            >\r\n                            </Tabs>\r\n                        </functionsContext.Provider>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>)\r\n    }\r\n}","import React from 'react';\r\nimport bills from '../tools/templates.json';\r\nimport custemores from '../tools/person.json';\r\nimport msbIndex from '../tools/msbsIndex.json'\r\nimport billed from '../tools/receipts.json'\r\nimport payments from '../tools/payments.json'\r\nimport Index from '../components/index';\r\nimport { CreateMsb } from \"./fireBaseContactor\"\r\n\r\n\r\nexport default class DataContext extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            payments: payments,\r\n            bills: bills,\r\n            custemores: custemores,\r\n            msbIndex: msbIndex,\r\n            billed: billed,\r\n            update_custemores: (data) => this.update_custemores(data),\r\n            update_charge: (data) => this.update_charge(data),\r\n            update_bill: (data) => this.update_bill(data),\r\n            update_payment: (data) => this.update_payment(data),\r\n            update_msb: (data) => this.update_msb(data),\r\n            remove_bill: (data) => this.remove_bill(data),\r\n            createMsb: (number) => this.CreateMsb(number)\r\n        };\r\n\r\n    }\r\n\r\n    CreateMsb(number) {\r\n        const ShekelInt = (num)=>String(Math.floor(num));\r\n        const AgurotInt = (num)=>String(((num)%1).toFixed(2)*100);\r\n\r\n        const ByClients = groupBy(this.state.billed.filter((items) => items.msbId == number), \"custemorId\");\r\n        const Users = Object.keys(ByClients).map((Client)=>{\r\n            const valueArr = ByClients[Client];\r\n            const totalTaxes = valueArr.reduce(function (sum, pay) {\r\n                return sum + pay.payed;\r\n            }, 0);\r\n            const client = this.state.custemores.filter((custemore)=>custemore.id == Client)[0]\r\n            return({\r\n                \"Bank\" : String(client.banknum),\r\n                \"Snif\": String(client.brancenum),\r\n                \"Account\" : String(client.accuntnum),\r\n                \"Id\": String(client.id),\r\n                \"Name\" : String(client.name),\r\n                \"ShekelInt\": ShekelInt(totalTaxes),\r\n                \"AgurotInt\" : AgurotInt(totalTaxes)\r\n            })\r\n        }).filter((item)=>item.ShekelInt>0);\r\n\r\n        const sumOfFile = Users.reduce(function (sum, pay) {\r\n            return sum + Number(pay.ShekelInt+\".\"+pay.AgurotInt);\r\n        }, 0);\r\n\r\n\r\n        const DATA = {\r\n            \"CodeMosad\": \"12345\", \"CodeSendMosad\": \"12345\", \"YY\": \"20\", \"MM\": \"12\", \"DD\": \"29\", \"NameMosad\": \"המרכז לגביה\", \"AmountShekel\": ShekelInt(sumOfFile), \"AmountAguort\": AgurotInt(sumOfFile), \"Sum\": String(Users.length),\r\n            \"move\": Users\r\n        }\r\n        CreateMsb(DATA);\r\n    }\r\n    help_update_custemores(state, data) {\r\n        let f = JSON.parse(JSON.stringify(state.custemores))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        return f;\r\n    }\r\n\r\n    update_custemores(data) {\r\n        this.setState((state, props) => ({ custemores: this.help_update_custemores(state, data) }));\r\n        return true;\r\n    }\r\n    update_msb(data) {\r\n        let f = JSON.parse(JSON.stringify(this.state.msbIndex))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        this.setState({ msbIndex: f });\r\n        return true;\r\n    }\r\n    update_charge(data) {\r\n        let f = JSON.parse(JSON.stringify(this.state.bills))\r\n        const index = f.findIndex(x => x.id == data.id)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        this.setState({ bills: f });\r\n        return true;\r\n    }\r\n\r\n    help_update_bill(state, data) {\r\n        let f = JSON.parse(JSON.stringify(state.billed))\r\n        const index = f.findIndex(x => x.transaId == data.transaId)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index]=data\r\n        }\r\n        return f;\r\n    }\r\n\r\n    update_bill(data) {\r\n        return this.edit_asinc(data, this.help_update_bill,\"billed\")\r\n    }\r\n\r\n    help_update_payment(state, data) {\r\n        console.log(data)\r\n        let f = JSON.parse(JSON.stringify(state.payments))\r\n        const index = f.findIndex(x => x.transaId == data.transaId)\r\n        if (index == -1) {\r\n            f.push(data)\r\n        } else {\r\n            f[index] = data\r\n        }\r\n        return f;\r\n    }\r\n\r\n    update_payment(data) {\r\n        return this.edit_asinc(data, this.help_update_payment,\"payments\")\r\n    }\r\n\r\n    help_remove_bill(state, data) {\r\n        let f = JSON.parse(JSON.stringify(state.billed))\r\n        const index = f.findIndex(x => x.transaId == data.transaId)\r\n        if (index == -1) {\r\n            return false\r\n        } else {\r\n            f = f.filter(x => x.transaId != data.transaId)\r\n        }\r\n        return f;\r\n    }\r\n\r\n    remove_bill(data) {\r\n        return this.edit_asinc(data, this.help_remove_bill,\"billed\")\r\n    }\r\n\r\n    edit_asinc(data, func, key) {\r\n        if (func(this.state, data)) {\r\n            this.setState((state, props) => ({ [key]: func(state, data) }))\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Index\r\n                {...this.state} />\r\n        );\r\n    }\r\n}\r\n\r\nconst groupBy = function (xs, key) {\r\n    return xs.reduce(function (rv, x) {\r\n        (rv[x[key]] = rv[x[key]] || []).push(x);\r\n        return rv;\r\n    }, {});\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './tailwind/tailwind-theme.css';\nimport './components/home_component.css';\nimport * as serviceWorker from './serviceWorker';\n//import Home from './components/index'\nimport DataContext from './services/contextData'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataContext />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}